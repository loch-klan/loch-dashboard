{"ast":null,"code":"var _jsxFileName = \"/opt/projects/loch-dashboard/src/app/bookingManagement/ChangeOrderStatus.js\";\nimport React, { useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Row, Col, Image, Button, Modal } from \"react-bootstrap\"; // import { cancelBookingApi } from '../Api';\n\nimport { CustomModal } from \"../common\";\nimport { BaseReactComponent, Form, FormElement, FormSubmitButton, CustomTextControl, FormValidator, SelectControl, FileUploadControl } from \"../../utils/form\";\nimport { addPenaltyDetailsApi, addUpdateKYCApi } from \"./Api\";\nimport { API_URL } from \"../../utils/Constant\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass ChangeOrderStatus extends BaseReactComponent {\n  constructor(props) {\n    super(props);\n\n    this.onSubmit = () => {\n      this.props.markReturnOrder(this.state.paymentMode);\n    };\n\n    this.markPickupOrder = () => {\n      const data = new URLSearchParams();\n      data.append(\"order_id\", this.props.bookingId);\n      data.append(\"kyc_attachment_ids\", this.state.kycDocument ? JSON.stringify([this.state.kycDocument.imageId]) : JSON.stringify([]));\n      addUpdateKYCApi(data, this.props.markPickupOrder);\n    };\n\n    this.state = {\n      kycDocument: \"\"\n    };\n  }\n\n  componentDidMount() {\n    if (this.props.action === 2) {\n      const data = new URLSearchParams();\n      data.append(\"order_id\", this.props.bookingId);\n      addPenaltyDetailsApi(data, this);\n    }\n  }\n\n  render() {\n    const pentaltyDetails = this.state.pentaltyDetails;\n    return /*#__PURE__*/_jsxDEV(CustomModal, {\n      show: this.props.show,\n      onHide: this.props.handleClose,\n      title: this.props.action === 1 ? \"Do you want to mark order as picked up?\" : \"Do you want to mark order as Completed?\",\n      modalClass: \"change-password\",\n      children: this.props.action === 1 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [this.props.action === 1 && /*#__PURE__*/_jsxDEV(Form, {\n          children: /*#__PURE__*/_jsxDEV(FormElement, {\n            valueLink: this.linkState(this, \"kycDocument\"),\n            label: \"Upload KYC Document\",\n            control: {\n              type: FileUploadControl,\n              settings: {\n                moduleName: \"offering\",\n                subModule: \"vehicle\",\n                fileType: \"IMAGE\",\n                extensions: [\"image/*\"],\n                maxFiles: 1,\n                maxFileSize: 100000000,\n                onSelect: (file, callback) => {\n                  // You will need to generate signedURL by calling API and then call callback\n                  const fileInfo = {\n                    id: file.lastModified,\n                    name: file.name,\n                    size: file.size,\n                    mimeType: file.type,\n                    path: \"single.jpg\"\n                  };\n                  callback(fileInfo, API_URL);\n                }\n              }\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"submit-wrapper\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            className: `btn black-btn`,\n            onClick: this.props.action === 1 ? this.markPickupOrder : this.props.markReturnOrder,\n            children: \"Yes, Mark\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-btn\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"light\",\n            onClick: this.props.handleClose,\n            children: \"No\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Form, {\n          onValidSubmit: this.onSubmit,\n          children: (pentaltyDetails === null || pentaltyDetails === void 0 ? void 0 : pentaltyDetails.payable_amount) > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [pentaltyDetails && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"estimated-fare-wrapper\",\n              children: [/*#__PURE__*/_jsxDEV(Row, {\n                children: [/*#__PURE__*/_jsxDEV(Col, {\n                  md: 6,\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"proximanova-regular op-6 f-s-14 lh-24\",\n                    children: [\"Damage Fee\", \" \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 124,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                    className: \"proximanova-bold f-s-16 lh-24\",\n                    children: [\"\\u20B9\", pentaltyDetails.damage_amount]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 127,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 123,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(Col, {\n                  md: 6,\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"proximanova-regular op-6 f-s-14 lh-24\",\n                    children: [\"Extra Km\", \" \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 132,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                    className: \"proximanova-bold f-s-16 lh-24\",\n                    children: [\"\\u20B9\", pentaltyDetails.extra_kms_amount]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 135,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 131,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(Row, {\n                children: [/*#__PURE__*/_jsxDEV(Col, {\n                  md: 6,\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"proximanova-regular  op-6 f-s-14 lh-24\",\n                    children: [\"Late Fee\", \" \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 142,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                    className: \"proximanova-bold f-s-16 lh-24\",\n                    children: [\"\\u20B9\", pentaltyDetails.extra_time_amount ? pentaltyDetails.extra_time_amount : \"0\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 145,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 141,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(Col, {\n                  md: 6,\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"proximanova-regular  op-6 f-s-14 lh-24\",\n                    children: \"Total Tax\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 153,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                    className: \"proximanova-bold f-s-16 lh-24\",\n                    children: [\"\\u20B9\", pentaltyDetails.total_tax_amount]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 156,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 152,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(Row, {\n                children: [/*#__PURE__*/_jsxDEV(Col, {\n                  md: 6,\n                  children: /*#__PURE__*/_jsxDEV(\"h4\", {\n                    className: \"proximanova-proximanova-regular op-6 f-s-14 lh-24\",\n                    children: \"Total Charges\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 164,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 163,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(Col, {\n                  md: 6,\n                  children: /*#__PURE__*/_jsxDEV(\"h4\", {\n                    className: \"proximanova-bold f-s-16 lh-24\",\n                    children: [\"\\u20B9\", pentaltyDetails.total_amount]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 169,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 168,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(Col, {\n                  md: 6,\n                  children: /*#__PURE__*/_jsxDEV(\"h4\", {\n                    className: \"proximanova-proximanova-regular op-6 f-s-14 lh-24\",\n                    children: \"Deposit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 174,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 173,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(Col, {\n                  md: 6,\n                  children: /*#__PURE__*/_jsxDEV(\"h4\", {\n                    className: \"proximanova-bold f-s-16 lh-24\",\n                    children: [\"\\u20B9\", pentaltyDetails.deposit_discount]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 179,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 178,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 184,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(Row, {\n                children: [/*#__PURE__*/_jsxDEV(Col, {\n                  md: 6,\n                  children: /*#__PURE__*/_jsxDEV(\"h4\", {\n                    className: \"proximanova-proximanova-regular op-6 f-s-16 lh-24\",\n                    children: \"Total Payble amount\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 187,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 186,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(Col, {\n                  md: 6,\n                  children: /*#__PURE__*/_jsxDEV(\"h4\", {\n                    className: \"proximanova-bold f-s-16 lh-24\",\n                    children: [\"\\u20B9\", pentaltyDetails.payable_amount]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 192,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 191,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Row, {\n              children: /*#__PURE__*/_jsxDEV(Col, {\n                md: 12,\n                children: /*#__PURE__*/_jsxDEV(FormElement, {\n                  valueLink: this.linkState(this, \"paymentMode\"),\n                  label: \"Payment Mode\",\n                  required: true,\n                  validations: [{\n                    validate: FormValidator.isRequired,\n                    message: \"Payment Mode cannot be empty\"\n                  }],\n                  control: {\n                    type: SelectControl,\n                    settings: {\n                      placeholder: \"Select Payment Mode\",\n                      options: [{\n                        label: \"Payment Link\",\n                        value: \"20\"\n                      }, {\n                        label: \"Offline\",\n                        value: \"30\"\n                      }],\n                      multiple: false,\n                      searchable: true,\n                      onChangeCallback: onBlur => {\n                        onBlur(this.state.paymentMode);\n                      }\n                    }\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 201,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"submit-wrapper\",\n              style: {\n                justifyContent: \"center\"\n              },\n              children: /*#__PURE__*/_jsxDEV(FormSubmitButton, {\n                customClass: `btn black-btn ${!this.state.paymentMode && \"inactive-btn\"}`,\n                children: [\" \", \"Yes, Mark\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"submit-wrapper\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              className: `btn black-btn`,\n              onClick: () => this.props.markReturnOrder(null),\n              children: \"Yes, Mark\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-btn\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"light\",\n            onClick: this.props.handleClose,\n            children: \"No\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nChangeOrderStatus.propTypes = {// getPosts: PropTypes.func\n};\nexport default ChangeOrderStatus;","map":{"version":3,"sources":["/opt/projects/loch-dashboard/src/app/bookingManagement/ChangeOrderStatus.js"],"names":["React","useState","PropTypes","Row","Col","Image","Button","Modal","CustomModal","BaseReactComponent","Form","FormElement","FormSubmitButton","CustomTextControl","FormValidator","SelectControl","FileUploadControl","addPenaltyDetailsApi","addUpdateKYCApi","API_URL","ChangeOrderStatus","constructor","props","onSubmit","markReturnOrder","state","paymentMode","markPickupOrder","data","URLSearchParams","append","bookingId","kycDocument","JSON","stringify","imageId","componentDidMount","action","render","pentaltyDetails","show","handleClose","linkState","type","settings","moduleName","subModule","fileType","extensions","maxFiles","maxFileSize","onSelect","file","callback","fileInfo","id","lastModified","name","size","mimeType","path","payable_amount","damage_amount","extra_kms_amount","extra_time_amount","total_tax_amount","total_amount","deposit_discount","validate","isRequired","message","placeholder","options","label","value","multiple","searchable","onChangeCallback","onBlur","justifyContent","propTypes"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\"\nimport PropTypes from \"prop-types\"\nimport { Row, Col, Image, Button, Modal } from \"react-bootstrap\"\n// import { cancelBookingApi } from '../Api';\nimport { CustomModal } from \"../common\"\nimport {\n  BaseReactComponent,\n  Form,\n  FormElement,\n  FormSubmitButton,\n  CustomTextControl,\n  FormValidator,\n  SelectControl,\n  FileUploadControl\n} from \"../../utils/form\"\nimport { addPenaltyDetailsApi, addUpdateKYCApi } from \"./Api\"\nimport { API_URL } from \"../../utils/Constant\"\n\nclass ChangeOrderStatus extends BaseReactComponent {\n  constructor(props) {\n    super(props)\n    this.state = {\n      kycDocument: \"\"\n    }\n  }\n\n  componentDidMount() {\n    if (this.props.action === 2) {\n      const data = new URLSearchParams()\n      data.append(\"order_id\", this.props.bookingId)\n      addPenaltyDetailsApi(data, this)\n    }\n  }\n\n  onSubmit = () => {\n    this.props.markReturnOrder(this.state.paymentMode)\n  }\n\n  markPickupOrder = () => {\n    const data = new URLSearchParams()\n    data.append(\"order_id\", this.props.bookingId)\n    data.append(\n      \"kyc_attachment_ids\",\n      this.state.kycDocument\n        ? JSON.stringify([this.state.kycDocument.imageId])\n        : JSON.stringify([])\n    )\n    addUpdateKYCApi(data, this.props.markPickupOrder)\n  }\n\n  render() {\n    const pentaltyDetails = this.state.pentaltyDetails\n    return (\n      <CustomModal\n        show={this.props.show}\n        onHide={this.props.handleClose}\n        title={\n          this.props.action === 1\n            ? \"Do you want to mark order as picked up?\"\n            : \"Do you want to mark order as Completed?\"\n        }\n        modalClass={\"change-password\"}\n      >\n        {this.props.action === 1 ? (\n          <>\n            {this.props.action === 1 && (\n              <Form>\n                <FormElement\n                  valueLink={this.linkState(this, \"kycDocument\")}\n                  label=\"Upload KYC Document\"\n                  control={{\n                    type: FileUploadControl,\n                    settings: {\n                      moduleName: \"offering\",\n                      subModule: \"vehicle\",\n                      fileType: \"IMAGE\",\n                      extensions: [\"image/*\"],\n                      maxFiles: 1,\n                      maxFileSize: 100000000,\n                      onSelect: (file, callback) => {\n                        // You will need to generate signedURL by calling API and then call callback\n                        const fileInfo = {\n                          id: file.lastModified,\n                          name: file.name,\n                          size: file.size,\n                          mimeType: file.type,\n                          path: \"single.jpg\"\n                        }\n                        callback(fileInfo, API_URL)\n                      }\n                    }\n                  }}\n                />\n              </Form>\n            )}\n\n            <div className=\"submit-wrapper\">\n              <Button\n                className={`btn black-btn`}\n                onClick={\n                  this.props.action === 1\n                    ? this.markPickupOrder\n                    : this.props.markReturnOrder\n                }\n              >\n                Yes, Mark\n              </Button>\n            </div>\n            <div className=\"text-btn\">\n              <Button variant=\"light\" onClick={this.props.handleClose}>\n                No\n              </Button>\n            </div>\n          </>\n        ) : (\n          <>\n            <Form onValidSubmit={this.onSubmit}>\n              {pentaltyDetails?.payable_amount > 0 ? (\n                <>\n                  {pentaltyDetails && (\n                    <div className=\"estimated-fare-wrapper\">\n                      <Row>\n                        <Col md={6}>\n                          <p className=\"proximanova-regular op-6 f-s-14 lh-24\">\n                            Damage Fee{\" \"}\n                          </p>\n                          <h4 className=\"proximanova-bold f-s-16 lh-24\">\n                            ₹{pentaltyDetails.damage_amount}\n                          </h4>\n                        </Col>\n                        <Col md={6}>\n                          <p className=\"proximanova-regular op-6 f-s-14 lh-24\">\n                            Extra Km{\" \"}\n                          </p>\n                          <h4 className=\"proximanova-bold f-s-16 lh-24\">\n                            ₹{pentaltyDetails.extra_kms_amount}\n                          </h4>\n                        </Col>\n                      </Row>\n                      <Row>\n                        <Col md={6}>\n                          <p className=\"proximanova-regular  op-6 f-s-14 lh-24\">\n                            Late Fee{\" \"}\n                          </p>\n                          <h4 className=\"proximanova-bold f-s-16 lh-24\">\n                            ₹\n                            {pentaltyDetails.extra_time_amount\n                              ? pentaltyDetails.extra_time_amount\n                              : \"0\"}\n                          </h4>\n                        </Col>\n                        <Col md={6}>\n                          <p className=\"proximanova-regular  op-6 f-s-14 lh-24\">\n                            Total Tax\n                          </p>\n                          <h4 className=\"proximanova-bold f-s-16 lh-24\">\n                            ₹{pentaltyDetails.total_tax_amount}\n                          </h4>\n                        </Col>\n                      </Row>\n                      <hr />\n                      <Row>\n                        <Col md={6}>\n                          <h4 className=\"proximanova-proximanova-regular op-6 f-s-14 lh-24\">\n                            Total Charges\n                          </h4>\n                        </Col>\n                        <Col md={6}>\n                          <h4 className=\"proximanova-bold f-s-16 lh-24\">\n                            ₹{pentaltyDetails.total_amount}\n                          </h4>\n                        </Col>\n                        <Col md={6}>\n                          <h4 className=\"proximanova-proximanova-regular op-6 f-s-14 lh-24\">\n                            Deposit\n                          </h4>\n                        </Col>\n                        <Col md={6}>\n                          <h4 className=\"proximanova-bold f-s-16 lh-24\">\n                            ₹{pentaltyDetails.deposit_discount}\n                          </h4>\n                        </Col>\n                      </Row>\n                      <hr />\n                      <Row>\n                        <Col md={6}>\n                          <h4 className=\"proximanova-proximanova-regular op-6 f-s-16 lh-24\">\n                            Total Payble amount\n                          </h4>\n                        </Col>\n                        <Col md={6}>\n                          <h4 className=\"proximanova-bold f-s-16 lh-24\">\n                            ₹{pentaltyDetails.payable_amount}\n                          </h4>\n                        </Col>\n                      </Row>\n                    </div>\n                  )}\n                  <Row>\n                    <Col md={12}>\n                      <FormElement\n                        valueLink={this.linkState(this, \"paymentMode\")}\n                        label=\"Payment Mode\"\n                        required\n                        validations={[\n                          {\n                            validate: FormValidator.isRequired,\n                            message: \"Payment Mode cannot be empty\"\n                          }\n                        ]}\n                        control={{\n                          type: SelectControl,\n                          settings: {\n                            placeholder: \"Select Payment Mode\",\n                            options: [\n                              { label: \"Payment Link\", value: \"20\" },\n                              { label: \"Offline\", value: \"30\" }\n                            ],\n                            multiple: false,\n                            searchable: true,\n                            onChangeCallback: (onBlur) => {\n                              onBlur(this.state.paymentMode)\n                            }\n                          }\n                        }}\n                      />\n                    </Col>\n                  </Row>\n                  <div\n                    className=\"submit-wrapper\"\n                    style={{ justifyContent: \"center\" }}\n                  >\n                    <FormSubmitButton\n                      customClass={`btn black-btn ${\n                        !this.state.paymentMode && \"inactive-btn\"\n                      }`}\n                    >\n                      {\" \"}\n                      Yes, Mark\n                    </FormSubmitButton>\n                  </div>\n                </>\n              ) : (\n                <div className=\"submit-wrapper\">\n                  <Button\n                    className={`btn black-btn`}\n                    onClick={() => this.props.markReturnOrder(null)}\n                  >\n                    Yes, Mark\n                  </Button>\n                </div>\n              )}\n            </Form>\n            <div className=\"text-btn\">\n              <Button variant=\"light\" onClick={this.props.handleClose}>\n                No\n              </Button>\n            </div>\n          </>\n        )}\n      </CustomModal>\n    )\n  }\n}\n\nChangeOrderStatus.propTypes = {\n  // getPosts: PropTypes.func\n}\n\nexport default ChangeOrderStatus\n"]},"metadata":{},"sourceType":"module"}