{"ast":null,"code":"var _jsxFileName = \"/opt/projects/loch-dashboard/src/app/userManagement/AddEditDealer.js\";\nimport React from 'react';\nimport { Col, Row } from 'react-bootstrap';\nimport ReactDOM from 'react-dom';\nimport { connect } from 'react-redux';\nimport { BaseReactComponent, CustomTextControl, Form, FormElement, FormValidator, SelectControl } from '../../utils/form';\nimport { ComponentHeader } from '../common';\nimport { AccountType, LocationType } from '../../utils/Constant';\nimport { getAllLocationApi } from '../common/Api';\nimport { addUpdateAccountApi, getAllAccountApi } from './Api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass AddEditDealer extends BaseReactComponent {\n  constructor(props) {\n    super(props);\n\n    this.handleSave = () => {\n      const data = new URLSearchParams();\n      data.append(\"account_email\", this.state.email);\n      data.append(\"user_account_roles\", JSON.stringify([{\n        \"role_ids\": JSON.parse(localStorage.getItem('userDetails')).account_permissions[0].role_ids,\n        \"account_id\": \"-1\",\n        \"vehicle_scope\": \"1\"\n      }]));\n      data.append(\"account_name\", this.state.companyName);\n      data.append(\"account_type\", AccountType.DEALER);\n      data.append(\"city_id\", this.state.city);\n      data.append(\"state_id\", this.state.state);\n      data.append(\"contact_name\", this.state.dealerName);\n      data.append(\"contact_number\", this.state.contactNumber);\n\n      if (this.state.accountType === AccountType.ADMIN) {\n        data.append(\"parent_account_id\", this.state.oem);\n      }\n\n      addUpdateAccountApi(data, () => this.props.history.goBack());\n    };\n\n    this.onNextClick = () => {\n      ReactDOM.findDOMNode(this.form).dispatchEvent(new Event(\"submit\", {\n        cancelable: true,\n        bubbles: true\n      }));\n    };\n\n    this.state = {\n      accountType: JSON.parse(localStorage.getItem('userDetails')).user_account_type,\n      data: [],\n      conditions: [{\n        \"key\": \"SEARCH_BY_TYPE\",\n        \"value\": AccountType.OEM,\n        \"context\": null\n      }],\n      oem: \"\",\n      companyName: \"\",\n      dealerName: \"\",\n      contactNumber: \"\",\n      email: \"\",\n      state: \"\",\n      city: \"\",\n      stateList: [],\n      cityList: []\n    };\n  }\n\n  componentDidMount() {\n    if (this.state.accountType === AccountType.ADMIN) {\n      this.props.getAllAccountApi(this);\n    }\n\n    this.props.getAllLocationApi(this, LocationType.STATE);\n  }\n\n  render() {\n    const {\n      data\n    } = this.state;\n    console.log('data', data);\n    let oemList = [];\n\n    if (this.state.accountType === AccountType.ADMIN) {\n      oemList = data.map(item => ({\n        label: item.name,\n        value: item.id\n      }));\n    }\n\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(ComponentHeader, {\n        backArrowBtn: true,\n        history: this.props.history,\n        title: \"Add Dealer\",\n        secondaryBtnText: \"Cancel\",\n        isSecondaryBtn: () => this.props.history.goBack(),\n        isPrimaryBtn: this.onNextClick,\n        primaryBtnText: \"Save Dealer\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"add-edit-customer-wrapper\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"content\",\n          children: /*#__PURE__*/_jsxDEV(Form, {\n            onValidSubmit: this.handleSave,\n            ref: el => this.form = el,\n            children: /*#__PURE__*/_jsxDEV(Row, {\n              children: [AccountType.ADMIN === this.state.accountType && /*#__PURE__*/_jsxDEV(Col, {\n                md: 4,\n                children: /*#__PURE__*/_jsxDEV(FormElement, {\n                  valueLink: this.linkState(this, \"oem\"),\n                  label: \"OEM Name\",\n                  required: true,\n                  validations: [{\n                    validate: FormValidator.isRequired,\n                    message: \"OEM name cannot be empty\"\n                  }],\n                  control: {\n                    type: SelectControl,\n                    settings: {\n                      placeholder: \"Select OEM Name\",\n                      options: oemList,\n                      multiple: false,\n                      searchable: true,\n                      onChangeCallback: onBlur => {\n                        onBlur(this.state.oem);\n                      }\n                    }\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 85,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                md: 4,\n                children: /*#__PURE__*/_jsxDEV(FormElement, {\n                  valueLink: this.linkState(this, \"companyName\"),\n                  label: \"Company Name\",\n                  required: true,\n                  validations: [{\n                    validate: FormValidator.isRequired,\n                    message: \"Company Name cannot be empty\"\n                  }],\n                  control: {\n                    type: CustomTextControl,\n                    settings: {\n                      placeholder: \"Enter Company Name\"\n                    }\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 112,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                md: 4,\n                children: /*#__PURE__*/_jsxDEV(FormElement, {\n                  valueLink: this.linkState(this, \"dealerName\"),\n                  label: \"Dealer Name\",\n                  required: true,\n                  validations: [{\n                    validate: FormValidator.isRequired,\n                    message: \"Dealer name cannot be empty\"\n                  }],\n                  control: {\n                    type: CustomTextControl,\n                    settings: {\n                      placeholder: \"Enter Dealer Name\"\n                    }\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 131,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                md: 4,\n                children: /*#__PURE__*/_jsxDEV(FormElement, {\n                  valueLink: this.linkState(this, \"contactNumber\"),\n                  label: \"Contact Number\",\n                  required: true,\n                  validations: [{\n                    validate: FormValidator.isRequired,\n                    message: \"Contact cannot be empty\"\n                  }, {\n                    validate: FormValidator.isPhone,\n                    message: \"Please enter a valid number\"\n                  }],\n                  control: {\n                    type: CustomTextControl,\n                    settings: {\n                      placeholder: \"Enter Contact Number\"\n                    }\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 152,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                md: 4,\n                children: /*#__PURE__*/_jsxDEV(FormElement, {\n                  valueLink: this.linkState(this, \"email\"),\n                  label: \"Email\",\n                  required: true,\n                  validations: [{\n                    validate: FormValidator.isRequired,\n                    message: \"Email cannot be empty\"\n                  }, {\n                    validate: FormValidator.isEmail,\n                    message: \"Please enter a valid email\"\n                  }],\n                  control: {\n                    type: CustomTextControl,\n                    settings: {\n                      placeholder: \"Enter Email\"\n                    }\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 175,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 174,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                md: 4,\n                children: /*#__PURE__*/_jsxDEV(FormElement, {\n                  valueLink: this.linkState(this, \"state\"),\n                  label: \"State\",\n                  required: true,\n                  validations: [{\n                    validate: FormValidator.isRequired,\n                    message: \"State cannot be empty\"\n                  }],\n                  control: {\n                    type: SelectControl,\n                    settings: {\n                      placeholder: \"Select State\",\n                      options: this.state.stateList,\n                      multiple: false,\n                      searchable: true,\n                      onChangeCallback: onBlur => {\n                        onBlur(this.state.state);\n                        this.setState({\n                          city: \"\"\n                        });\n                        this.props.getAllLocationApi(this, LocationType.CITY);\n                      }\n                    }\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 198,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                md: 4,\n                children: /*#__PURE__*/_jsxDEV(FormElement, {\n                  valueLink: this.linkState(this, \"city\"),\n                  label: \"City\",\n                  required: true,\n                  validations: [{\n                    validate: FormValidator.isRequired,\n                    message: \"City cannot be empty\"\n                  }],\n                  control: {\n                    type: SelectControl,\n                    settings: {\n                      placeholder: \"Select City\",\n                      options: this.state.cityList,\n                      multiple: false,\n                      searchable: true,\n                      onChangeCallback: onBlur => {\n                        onBlur(this.state.city);\n                      }\n                    }\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 227,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 226,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  userManagementState: state.UserManagementState\n});\n\nconst mapDispatchToProps = {\n  getAllLocationApi,\n  getAllAccountApi\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(AddEditDealer);","map":{"version":3,"sources":["/opt/projects/loch-dashboard/src/app/userManagement/AddEditDealer.js"],"names":["React","Col","Row","ReactDOM","connect","BaseReactComponent","CustomTextControl","Form","FormElement","FormValidator","SelectControl","ComponentHeader","AccountType","LocationType","getAllLocationApi","addUpdateAccountApi","getAllAccountApi","AddEditDealer","constructor","props","handleSave","data","URLSearchParams","append","state","email","JSON","stringify","parse","localStorage","getItem","account_permissions","role_ids","companyName","DEALER","city","dealerName","contactNumber","accountType","ADMIN","oem","history","goBack","onNextClick","findDOMNode","form","dispatchEvent","Event","cancelable","bubbles","user_account_type","conditions","OEM","stateList","cityList","componentDidMount","STATE","render","console","log","oemList","map","item","label","name","value","id","el","linkState","validate","isRequired","message","type","settings","placeholder","options","multiple","searchable","onChangeCallback","onBlur","isPhone","isEmail","setState","CITY","mapStateToProps","userManagementState","UserManagementState","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Col, Row } from 'react-bootstrap';\nimport ReactDOM from 'react-dom';\nimport { connect } from 'react-redux';\nimport { BaseReactComponent, CustomTextControl, Form, FormElement, FormValidator, SelectControl } from '../../utils/form';\nimport { ComponentHeader } from '../common';\nimport { AccountType, LocationType } from '../../utils/Constant';\nimport { getAllLocationApi } from '../common/Api';\nimport { addUpdateAccountApi, getAllAccountApi } from './Api';\n\nclass AddEditDealer extends BaseReactComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      accountType: JSON.parse(localStorage.getItem('userDetails')).user_account_type,\n      data: [],\n      conditions: [{ \"key\": \"SEARCH_BY_TYPE\", \"value\": AccountType.OEM, \"context\": null }],\n      oem: \"\",\n      companyName: \"\",\n      dealerName: \"\",\n      contactNumber: \"\",\n      email: \"\",\n      state: \"\",\n      city: \"\",\n      stateList: [],\n      cityList: [],\n    }\n  }\n\n  componentDidMount() {\n    if (this.state.accountType === AccountType.ADMIN) {\n      this.props.getAllAccountApi(this)\n    }\n    this.props.getAllLocationApi(this, LocationType.STATE)\n  }\n\n  handleSave = () => {\n    const data = new URLSearchParams();\n    data.append(\"account_email\", this.state.email);\n    data.append(\"user_account_roles\", JSON.stringify([{ \"role_ids\": JSON.parse(localStorage.getItem('userDetails')).account_permissions[0].role_ids, \"account_id\": \"-1\", \"vehicle_scope\": \"1\" }]));\n    data.append(\"account_name\", this.state.companyName);\n    data.append(\"account_type\", AccountType.DEALER);\n    data.append(\"city_id\", this.state.city);\n    data.append(\"state_id\", this.state.state);\n    data.append(\"contact_name\", this.state.dealerName);\n    data.append(\"contact_number\", this.state.contactNumber);\n    if (this.state.accountType === AccountType.ADMIN) {\n      data.append(\"parent_account_id\", this.state.oem);\n    }\n    addUpdateAccountApi(data, () => this.props.history.goBack());\n  }\n\n  onNextClick = () => {\n    ReactDOM.findDOMNode(this.form).dispatchEvent(new Event(\"submit\", { cancelable: true, bubbles: true }));\n  }\n  render() {\n    const { data } = this.state;\n    console.log('data', data);\n    let oemList = [];\n    if (this.state.accountType === AccountType.ADMIN) {\n      oemList = data.map((item) => ({\n        label: item.name,\n        value: item.id\n      }))\n    }\n    return (\n      <>\n        <ComponentHeader\n          backArrowBtn={true}\n          history={this.props.history}\n          title={\"Add Dealer\"}\n          secondaryBtnText={\"Cancel\"}\n          isSecondaryBtn={() => this.props.history.goBack()}\n          isPrimaryBtn={this.onNextClick}\n          primaryBtnText={\"Save Dealer\"}\n        />\n        <div className=\"add-edit-customer-wrapper\">\n          {/* <Container> */}\n          <div className=\"content\">\n            <Form onValidSubmit={this.handleSave} ref={el => this.form = el}>\n              <Row>\n                {\n                  AccountType.ADMIN === this.state.accountType &&\n                  <Col md={4}>\n                    <FormElement\n                      valueLink={this.linkState(this, \"oem\")}\n                      label=\"OEM Name\"\n                      required\n                      validations={[\n                        {\n                          validate: FormValidator.isRequired,\n                          message: \"OEM name cannot be empty\"\n                        },\n                      ]}\n                      control={{\n                        type: SelectControl,\n                        settings: {\n                          placeholder: \"Select OEM Name\",\n                          options: oemList,\n                          multiple: false,\n                          searchable: true,\n                          onChangeCallback: (onBlur) => {\n                            onBlur(this.state.oem);\n                          }\n                        }\n                      }}\n                    />\n                  </Col>\n                }\n\n                <Col md={4}>\n                  <FormElement\n                    valueLink={this.linkState(this, \"companyName\")}\n                    label=\"Company Name\"\n                    required\n                    validations={[\n                      {\n                        validate: FormValidator.isRequired,\n                        message: \"Company Name cannot be empty\"\n                      },\n                    ]}\n                    control={{\n                      type: CustomTextControl,\n                      settings: {\n                        placeholder: \"Enter Company Name\",\n                      }\n                    }}\n                  />\n                </Col>\n                <Col md={4}>\n                  <FormElement\n                    valueLink={this.linkState(this, \"dealerName\")}\n                    label=\"Dealer Name\"\n                    required\n                    validations={[\n                      {\n                        validate: FormValidator.isRequired,\n                        message: \"Dealer name cannot be empty\"\n                      },\n                    ]}\n                    control={{\n                      type: CustomTextControl,\n                      settings: {\n                        placeholder: \"Enter Dealer Name\",\n                      }\n                    }}\n                  />\n                </Col>\n                {/*  </Row>\n              <Row> */}\n                <Col md={4}>\n                  <FormElement\n                    valueLink={this.linkState(this, \"contactNumber\")}\n                    label=\"Contact Number\"\n                    required\n                    validations={[\n                      {\n                        validate: FormValidator.isRequired,\n                        message: \"Contact cannot be empty\"\n                      },\n                      {\n                        validate: FormValidator.isPhone,\n                        message: \"Please enter a valid number\"\n                      }\n                    ]}\n                    control={{\n                      type: CustomTextControl,\n                      settings: {\n                        placeholder: \"Enter Contact Number\",\n                      }\n                    }}\n                  />\n                </Col>\n                <Col md={4}>\n                  <FormElement\n                    valueLink={this.linkState(this, \"email\")}\n                    label=\"Email\"\n                    required\n                    validations={[\n                      {\n                        validate: FormValidator.isRequired,\n                        message: \"Email cannot be empty\"\n                      },\n                      {\n                        validate: FormValidator.isEmail,\n                        message: \"Please enter a valid email\"\n                      }\n                    ]}\n                    control={{\n                      type: CustomTextControl,\n                      settings: {\n                        placeholder: \"Enter Email\",\n                      }\n                    }}\n                  />\n                </Col>\n                <Col md={4}>\n                  <FormElement\n                    valueLink={this.linkState(this, \"state\")}\n                    label=\"State\"\n                    required\n                    validations={[\n                      {\n                        validate: FormValidator.isRequired,\n                        message: \"State cannot be empty\"\n                      },\n                    ]}\n                    control={{\n                      type: SelectControl,\n                      settings: {\n                        placeholder: \"Select State\",\n                        options: this.state.stateList,\n                        multiple: false,\n                        searchable: true,\n                        onChangeCallback: (onBlur) => {\n                          onBlur(this.state.state);\n                          this.setState({ city: \"\" })\n                          this.props.getAllLocationApi(this, LocationType.CITY)\n                        }\n                      }\n                    }}\n                  />\n                </Col>\n                {/* </Row>\n              <Row> */}\n                <Col md={4}>\n                  <FormElement\n                    valueLink={this.linkState(this, \"city\")}\n                    label=\"City\"\n                    required\n                    validations={[\n                      {\n                        validate: FormValidator.isRequired,\n                        message: \"City cannot be empty\"\n                      },\n                    ]}\n                    control={{\n                      type: SelectControl,\n                      settings: {\n                        placeholder: \"Select City\",\n                        options: this.state.cityList,\n                        multiple: false,\n                        searchable: true,\n                        onChangeCallback: (onBlur) => {\n                          onBlur(this.state.city);\n                        }\n                      }\n                    }}\n                  />\n                </Col>\n              </Row>\n            </Form>\n          </div>\n          {/* </Container> */}\n        </div>\n      </>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  userManagementState: state.UserManagementState\n});\nconst mapDispatchToProps = {\n  getAllLocationApi,\n  getAllAccountApi\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AddEditDealer);"]},"metadata":{},"sourceType":"module"}