{"ast":null,"code":"var _jsxFileName = \"/opt/projects/loch-dashboard/src/app/franchise/ViewFranchise.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Col, Row } from \"react-bootstrap\";\nimport { getFranchiseByIdApi } from \"./Api\";\nimport notFoundDefault from \"../../assets/images/empty-table.png\";\nimport { Button, Image } from \"react-bootstrap\";\nimport { ComponentHeader } from \"../common\";\nimport { getAllVehiclesApi, removeVehiclesToFranchiseApi } from \"../vehicles/Api\";\nimport CustomTable from \"../../utils/commonComponent/CustomTable\"; // import { PermissionList } from \"../../utils/Constant\";\n// import {\n//   getAssignedPermission,\n//   replaceHistory,\n// } from \"../../utils/ReusableFunctions\";\n// import ActionDropdown from \"../common/_utils/ActionDropdown\";\n\nimport VehicleAllocationModal from \"./_utils/VehicleAllocationModal\";\nimport InformationModal from \"../common/InformationModal\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass ViewFranchise extends Component {\n  constructor(props) {\n    var _this;\n\n    super(props);\n    _this = this;\n\n    this.setFranchiseData = data => {\n      this.setState({\n        franchiseData: data\n      });\n    };\n\n    this.areaName = areas => {\n      let areasName = [];\n\n      if (areas.length === 0) {\n        areasName = \"NA\";\n      }\n\n      areas.map((item, index) => {\n        if (areas.length === index + 1) {\n          return areasName.push(item.name);\n        } else {\n          return areasName.push(item.name + \",\");\n        }\n      });\n      return areasName;\n    };\n\n    this.handleVehicleAllocation = () => {\n      this.setState({\n        showAllocationModal: !this.state.showAllocationModal\n      });\n    };\n\n    this.handleConfirmation = function () {\n      let rowData = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n\n      _this.setState({\n        showConfirmationModal: !_this.state.showConfirmationModal,\n        vehicleData: rowData\n      });\n    };\n\n    this.removeVehicle = () => {\n      const data = new URLSearchParams();\n      data.append(\"vehicle_ids\", JSON.stringify([this.state.vehicleData.id]));\n      data.append(\"franchise_id\", this.state.franchiseId);\n      removeVehiclesToFranchiseApi(data, this.handleConfirmation, this);\n    };\n\n    // console.log(\"props.location\", props.location);\n    const search = props.location.search;\n    const params = new URLSearchParams(search);\n    const page = params.get(\"p\"); // const searchText = params.get(\"search\");\n\n    let franchiseId = props.match.params.franchiseId ? props.match.params.franchiseId : \"\";\n    this.state = {\n      franchiseId: franchiseId,\n      vehiclesList: [],\n      page: page ? parseInt(page, 10) : 1,\n      totalPages: 1,\n      searchText: franchiseId,\n      searchKey: \"SEARCH_BY_ACCOUNT_ID\",\n      showAllocationModal: false,\n      showConfirmationModal: false\n    };\n  }\n\n  componentDidMount() {\n    // IN CASE IF VIEW FRANCHISE\n    if (this.state.franchiseId) {\n      this.props.getFranchiseByIdApi(this.state.franchiseId, this.setFranchiseData);\n    }\n\n    getAllVehiclesApi(this);\n  }\n\n  render() {\n    const franchiseData = this.state.franchiseData && this.state.franchiseData;\n    const {\n      vehiclesList\n    } = this.state; // const permissionList = getAssignedPermission();\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(ComponentHeader, {\n        backArrowBtn: true,\n        history: this.props.history,\n        title: \"View Franchise\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this), this.state.showAllocationModal && /*#__PURE__*/_jsxDEV(VehicleAllocationModal, {\n        show: this.state.showAllocationModal,\n        handleClose: data => this.handleVehicleAllocation(),\n        franchiseId: this.state.franchiseId,\n        ctx: this\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 11\n      }, this), this.state.showConfirmationModal && /*#__PURE__*/_jsxDEV(InformationModal, {\n        show: this.state.showConfirmationModal,\n        handleClose: this.handleConfirmation,\n        type: \"warning\",\n        actionText: \"remove\",\n        handleArchive: this.removeVehicle,\n        text: this.state.vehicleData && this.state.vehicleData.registrationNo\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 11\n      }, this), franchiseData && franchiseData.id ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"order-details-wrapper add-edit-customer-wrapper\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"content view-detail-page\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"basic-details\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Basic Details\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Row, {\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                sm: 3,\n                xs: 12,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"detail\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    className: \"regular\",\n                    children: \"Account Name\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 138,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"regular lg\",\n                    children: franchiseData.legal_name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 139,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 137,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 136,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                sm: 3,\n                xs: 12,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"detail\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    className: \"regular\",\n                    children: \"Account Email\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 144,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"regular lg\",\n                    children: franchiseData.billing_email\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 145,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 143,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 142,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                sm: 3,\n                xs: 12,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"detail\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    className: \"regular\",\n                    children: \"Account Name\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 152,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"regular lg\",\n                    children: franchiseData.billing_contact\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 153,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 151,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                sm: 3,\n                xs: 12,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"detail\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    className: \"regular\",\n                    children: \"Rental Revenue Percentage\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 160,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"regular lg\",\n                    children: franchiseData.extra_information.rental_revenue_percentage || \"NA\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 161,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 159,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Row, {\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                sm: 3,\n                xs: 12,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"detail\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    className: \"regular\",\n                    children: \"Cancellation Revenue Percentage\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 171,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"regular lg\",\n                    children: franchiseData.extra_information.cancellation_revenue_percentage || \"NA\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 172,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 170,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                sm: 3,\n                xs: 12,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"detail\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    className: \"regular\",\n                    children: \"Damage Revenue Percentage\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 179,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"regular lg\",\n                    children: franchiseData.extra_information.damage_revenue_percentage || \"NA\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 180,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 178,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                sm: 3,\n                xs: 12,\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"regular\",\n                  children: \"Area\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 186,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"regular lg\",\n                  children: this.areaName(franchiseData.areas)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 187,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                sm: 3,\n                xs: 12\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"basic-details\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Billing address\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Row, {\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                sm: 3,\n                xs: 12,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"detail\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    className: \"regular\",\n                    children: \"Country\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 200,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"regular lg\",\n                    children: franchiseData.billing_address[0].country.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 201,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 199,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 198,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                sm: 3,\n                xs: 12,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"detail\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    className: \"regular\",\n                    children: \"State\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 208,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"regular lg\",\n                    children: franchiseData.billing_address[0].state.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 209,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 207,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                sm: 3,\n                xs: 12,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"detail\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    className: \"regular\",\n                    children: \"City\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 216,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"regular lg\",\n                    children: franchiseData.billing_address[0].city.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 217,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 215,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                sm: 3,\n                xs: 12,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"detail\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    className: \"regular\",\n                    children: \"Block Address\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 224,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"regular lg\",\n                    children: franchiseData.billing_address[0].block_address\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 225,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 223,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 222,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Row, {\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                sm: 3,\n                xs: 12,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"detail\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    className: \"regular\",\n                    children: \"Tax Reg Number\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 234,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"regular lg\",\n                    children: franchiseData.billing_address[0].tax_reg_number\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 235,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 233,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 232,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                sm: 3,\n                xs: 12,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"detail\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    className: \"regular\",\n                    children: \"Contact Number\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 242,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"regular lg\",\n                    children: franchiseData.billing_address[0].contact_number\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 243,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 241,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"basic-details\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"map-vehicle-wrapper\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                children: \"Mapped Vechicles\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 253,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                className: \"btn black-btn\",\n                onClick: this.handleVehicleAllocation,\n                children: \"Add Vechicle\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"custom-table-wrapper\",\n              children: /*#__PURE__*/_jsxDEV(CustomTable, {\n                tableData: vehiclesList,\n                columnList: [{\n                  coumnWidth: 250,\n                  labelName: \"Model Name\",\n                  dataKey: \"modelInfo\",\n                  className: \"red-hat-display-bold\",\n                  isCell: true,\n                  cell: (rowData, dataKey) => {\n                    if (dataKey === \"modelInfo\") {\n                      return rowData.modelInfo ? rowData.modelInfo.modelName : \"-\";\n                    }\n                  }\n                }, {\n                  coumnWidth: 250,\n                  labelName: \"Chassis Number\",\n                  dataKey: \"chassisNo\",\n                  className: \"\",\n                  isCell: true,\n                  cell: (rowData, dataKey) => {\n                    if (dataKey === \"chassisNo\") {\n                      return rowData.chassisNo;\n                    }\n                  }\n                }, {\n                  coumnWidth: 250,\n                  labelName: \"Registration number\",\n                  dataKey: \"registrationNo\",\n                  className: \"\",\n                  isCell: true,\n                  cell: (rowData, dataKey) => {\n                    if (dataKey === \"registrationNo\") {\n                      return rowData.registrationNo || \"NA\";\n                    }\n                  }\n                }, {\n                  coumnWidth: 250,\n                  labelName: \"Battery Status\",\n                  dataKey: \"batteryStatus\",\n                  className: \"\",\n                  isCell: true,\n                  cell: (rowData, dataKey) => {\n                    if (dataKey === \"batteryStatus\") {\n                      return /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"status\",\n                        children: [\" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: `circle ${rowData.attachedBatteries.length > 0 && rowData.attachedBatteries[0].active ? \"active\" : \"inactive\"}`\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 314,\n                          columnNumber: 33\n                        }, this), \" \", rowData.attachedBatteries.length > 0 && rowData.attachedBatteries[0].active ? \"Attached\" : \"Inactive\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 312,\n                        columnNumber: 31\n                      }, this);\n                    }\n                  }\n                }, {\n                  coumnWidth: 250,\n                  labelName: \"Iot Status\",\n                  dataKey: \"iotStatus\",\n                  className: \"\",\n                  isCell: true,\n                  cell: (rowData, dataKey) => {\n                    if (dataKey === \"iotStatus\") {\n                      return /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"status\",\n                        children: [\" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: `circle ${rowData.attachedTelematics && rowData.attachedTelematics.active ? \"active\" : \"inactive\"}`\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 340,\n                          columnNumber: 33\n                        }, this), \" \", rowData.attachedTelematics && rowData.attachedTelematics.active ? \"Attached\" : \"Inactive\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 338,\n                        columnNumber: 31\n                      }, this);\n                    }\n                  }\n                }, {\n                  coumnWidth: 250,\n                  labelName: \"\",\n                  dataKey: \"options\",\n                  className: \"options-column\",\n                  isCell: true,\n                  cell: (rowData, dataKey) => {\n                    if (dataKey === \"options\") {\n                      return /*#__PURE__*/_jsxDEV(Button, {\n                        className: \"btn secondary-btn option-btn\",\n                        onClick: () => this.handleConfirmation(rowData),\n                        children: \"Remove\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 364,\n                        columnNumber: 31\n                      }, this);\n                    }\n                  }\n                }] // For Pagination\n                ,\n                history: this.props.history,\n                location: this.props.location,\n                totalPages: this.state.totalPages,\n                currentPage: this.state.page - 1 // because of 0 based indexing\n                ,\n                message: \"Vehicle list is empty\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"not-found-wrapper\",\n        children: [/*#__PURE__*/_jsxDEV(Image, {\n          src: notFoundDefault\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"red-hat-display-medium f-s-16 black-404\",\n          children: [\"No Franchise Data\", \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 387,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = state => ({ ...state\n});\n\nconst mapDispatchToProps = {\n  getFranchiseByIdApi\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(ViewFranchise);","map":{"version":3,"sources":["/opt/projects/loch-dashboard/src/app/franchise/ViewFranchise.js"],"names":["React","Component","connect","Col","Row","getFranchiseByIdApi","notFoundDefault","Button","Image","ComponentHeader","getAllVehiclesApi","removeVehiclesToFranchiseApi","CustomTable","VehicleAllocationModal","InformationModal","ViewFranchise","constructor","props","setFranchiseData","data","setState","franchiseData","areaName","areas","areasName","length","map","item","index","push","name","handleVehicleAllocation","showAllocationModal","state","handleConfirmation","rowData","showConfirmationModal","vehicleData","removeVehicle","URLSearchParams","append","JSON","stringify","id","franchiseId","search","location","params","page","get","match","vehiclesList","parseInt","totalPages","searchText","searchKey","componentDidMount","render","history","registrationNo","legal_name","billing_email","billing_contact","extra_information","rental_revenue_percentage","cancellation_revenue_percentage","damage_revenue_percentage","billing_address","country","city","block_address","tax_reg_number","contact_number","coumnWidth","labelName","dataKey","className","isCell","cell","modelInfo","modelName","chassisNo","attachedBatteries","active","attachedTelematics","mapStateToProps","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Col, Row } from \"react-bootstrap\";\nimport { getFranchiseByIdApi } from \"./Api\";\nimport notFoundDefault from \"../../assets/images/empty-table.png\";\nimport { Button, Image } from \"react-bootstrap\";\nimport { ComponentHeader } from \"../common\";\nimport {\n  getAllVehiclesApi,\n  removeVehiclesToFranchiseApi,\n} from \"../vehicles/Api\";\nimport CustomTable from \"../../utils/commonComponent/CustomTable\";\n// import { PermissionList } from \"../../utils/Constant\";\n// import {\n//   getAssignedPermission,\n//   replaceHistory,\n// } from \"../../utils/ReusableFunctions\";\n// import ActionDropdown from \"../common/_utils/ActionDropdown\";\nimport VehicleAllocationModal from \"./_utils/VehicleAllocationModal\";\nimport InformationModal from \"../common/InformationModal\";\n\nclass ViewFranchise extends Component {\n  constructor(props) {\n    super(props);\n    // console.log(\"props.location\", props.location);\n    const search = props.location.search;\n    const params = new URLSearchParams(search);\n    const page = params.get(\"p\");\n    // const searchText = params.get(\"search\");\n    let franchiseId = props.match.params.franchiseId\n      ? props.match.params.franchiseId\n      : \"\";\n\n    this.state = {\n      franchiseId: franchiseId,\n      vehiclesList: [],\n      page: page ? parseInt(page, 10) : 1,\n      totalPages: 1,\n      searchText: franchiseId,\n      searchKey: \"SEARCH_BY_ACCOUNT_ID\",\n      showAllocationModal: false,\n      showConfirmationModal: false,\n    };\n  }\n\n  componentDidMount() {\n    // IN CASE IF VIEW FRANCHISE\n    if (this.state.franchiseId) {\n      this.props.getFranchiseByIdApi(\n        this.state.franchiseId,\n        this.setFranchiseData\n      );\n    }\n    getAllVehiclesApi(this);\n  }\n\n  setFranchiseData = (data) => {\n    this.setState({\n      franchiseData: data,\n    });\n  };\n\n  areaName = (areas) => {\n    let areasName = [];\n    if (areas.length === 0) {\n      areasName = \"NA\";\n    }\n    areas.map((item, index) => {\n      if (areas.length === index + 1) {\n        return areasName.push(item.name);\n      } else {\n        return areasName.push(item.name + \",\");\n      }\n    });\n    return areasName;\n  };\n\n  handleVehicleAllocation = () => {\n    this.setState({\n      showAllocationModal: !this.state.showAllocationModal,\n    });\n  };\n\n  handleConfirmation = (rowData = \"\") => {\n    this.setState({\n      showConfirmationModal: !this.state.showConfirmationModal,\n      vehicleData: rowData,\n    });\n  };\n\n  removeVehicle = () => {\n    const data = new URLSearchParams();\n    data.append(\"vehicle_ids\", JSON.stringify([this.state.vehicleData.id]));\n    data.append(\"franchise_id\", this.state.franchiseId);\n    removeVehiclesToFranchiseApi(data, this.handleConfirmation, this);\n  };\n\n  render() {\n    const franchiseData = this.state.franchiseData && this.state.franchiseData;\n    const { vehiclesList } = this.state;\n    // const permissionList = getAssignedPermission();\n    return (\n      <div>\n        <ComponentHeader\n          backArrowBtn={true}\n          history={this.props.history}\n          title={\"View Franchise\"}\n        />\n        {this.state.showAllocationModal && (\n          <VehicleAllocationModal\n            show={this.state.showAllocationModal}\n            handleClose={(data) => this.handleVehicleAllocation()}\n            franchiseId={this.state.franchiseId}\n            ctx={this}\n          />\n        )}\n        {this.state.showConfirmationModal && (\n          <InformationModal\n            show={this.state.showConfirmationModal}\n            handleClose={this.handleConfirmation}\n            type=\"warning\"\n            actionText=\"remove\"\n            handleArchive={this.removeVehicle}\n            text={\n              this.state.vehicleData && this.state.vehicleData.registrationNo\n            }\n          />\n        )}\n\n        {franchiseData && franchiseData.id ? (\n          <div className=\"order-details-wrapper add-edit-customer-wrapper\">\n            <div className=\"content view-detail-page\">\n              <div className=\"basic-details\">\n                <h2>Basic Details</h2>\n                <Row>\n                  <Col sm={3} xs={12}>\n                    <div className=\"detail\">\n                      <h4 className=\"regular\">Account Name</h4>\n                      <h3 className=\"regular lg\">{franchiseData.legal_name}</h3>\n                    </div>\n                  </Col>\n                  <Col sm={3} xs={12}>\n                    <div className=\"detail\">\n                      <h4 className=\"regular\">Account Email</h4>\n                      <h3 className=\"regular lg\">\n                        {franchiseData.billing_email}\n                      </h3>\n                    </div>\n                  </Col>\n                  <Col sm={3} xs={12}>\n                    <div className=\"detail\">\n                      <h4 className=\"regular\">Account Name</h4>\n                      <h3 className=\"regular lg\">\n                        {franchiseData.billing_contact}\n                      </h3>\n                    </div>\n                  </Col>\n                  <Col sm={3} xs={12}>\n                    <div className=\"detail\">\n                      <h4 className=\"regular\">Rental Revenue Percentage</h4>\n                      <h3 className=\"regular lg\">\n                        {franchiseData.extra_information.rental_revenue_percentage || \"NA\"}\n                      </h3>\n                    </div>\n                  </Col>\n\n                </Row>\n                <Row>\n                <Col sm={3} xs={12}>\n                    <div className=\"detail\">\n                      <h4 className=\"regular\">Cancellation Revenue Percentage</h4>\n                      <h3 className=\"regular lg\">\n                        {franchiseData.extra_information.cancellation_revenue_percentage || \"NA\"}\n                      </h3>\n                    </div>\n                  </Col>\n                  <Col sm={3} xs={12}>\n                    <div className=\"detail\">\n                      <h4 className=\"regular\">Damage Revenue Percentage</h4>\n                      <h3 className=\"regular lg\">\n                        {franchiseData.extra_information.damage_revenue_percentage || \"NA\"}\n                      </h3>\n                    </div>\n                  </Col>\n                  <Col sm={3} xs={12}>\n                    <h4 className=\"regular\">Area</h4>\n                    <h3 className=\"regular lg\">\n                      {this.areaName(franchiseData.areas)}\n                    </h3>\n                  </Col>\n                  <Col sm={3} xs={12}></Col>\n                </Row>\n              </div>\n              <hr />\n              <div className=\"basic-details\">\n                <h2>Billing address</h2>\n                <Row>\n                  <Col sm={3} xs={12}>\n                    <div className=\"detail\">\n                      <h4 className=\"regular\">Country</h4>\n                      <h3 className=\"regular lg\">\n                        {franchiseData.billing_address[0].country.name}\n                      </h3>\n                    </div>\n                  </Col>\n                  <Col sm={3} xs={12}>\n                    <div className=\"detail\">\n                      <h4 className=\"regular\">State</h4>\n                      <h3 className=\"regular lg\">\n                        {franchiseData.billing_address[0].state.name}\n                      </h3>\n                    </div>\n                  </Col>\n                  <Col sm={3} xs={12}>\n                    <div className=\"detail\">\n                      <h4 className=\"regular\">City</h4>\n                      <h3 className=\"regular lg\">\n                        {franchiseData.billing_address[0].city.name}\n                      </h3>\n                    </div>\n                  </Col>\n                  <Col sm={3} xs={12}>\n                    <div className=\"detail\">\n                      <h4 className=\"regular\">Block Address</h4>\n                      <h3 className=\"regular lg\">\n                        {franchiseData.billing_address[0].block_address}\n                      </h3>\n                    </div>\n                  </Col>\n                </Row>\n                <Row>\n                  <Col sm={3} xs={12}>\n                    <div className=\"detail\">\n                      <h4 className=\"regular\">Tax Reg Number</h4>\n                      <h3 className=\"regular lg\">\n                        {franchiseData.billing_address[0].tax_reg_number}\n                      </h3>\n                    </div>\n                  </Col>\n                  <Col sm={3} xs={12}>\n                    <div className=\"detail\">\n                      <h4 className=\"regular\">Contact Number</h4>\n                      <h3 className=\"regular lg\">\n                        {franchiseData.billing_address[0].contact_number}\n                      </h3>\n                    </div>\n                  </Col>\n                </Row>\n              </div>\n              <hr />\n              <div className=\"basic-details\">\n                <div className=\"map-vehicle-wrapper\">\n                  <h2>Mapped Vechicles</h2>\n                  <Button\n                    className=\"btn black-btn\"\n                    onClick={this.handleVehicleAllocation}\n                  >\n                    Add Vechicle\n                  </Button>\n                </div>\n                <div className=\"custom-table-wrapper\">\n                  <CustomTable\n                    tableData={vehiclesList}\n                    columnList={[\n                      {\n                        coumnWidth: 250,\n                        labelName: \"Model Name\",\n                        dataKey: \"modelInfo\",\n                        className: \"red-hat-display-bold\",\n                        isCell: true,\n                        cell: (rowData, dataKey) => {\n                          if (dataKey === \"modelInfo\") {\n                            return rowData.modelInfo\n                              ? rowData.modelInfo.modelName\n                              : \"-\";\n                          }\n                        },\n                      },\n                      {\n                        coumnWidth: 250,\n                        labelName: \"Chassis Number\",\n                        dataKey: \"chassisNo\",\n                        className: \"\",\n                        isCell: true,\n                        cell: (rowData, dataKey) => {\n                          if (dataKey === \"chassisNo\") {\n                            return rowData.chassisNo;\n                          }\n                        },\n                      },\n                      {\n                        coumnWidth: 250,\n                        labelName: \"Registration number\",\n                        dataKey: \"registrationNo\",\n                        className: \"\",\n                        isCell: true,\n                        cell: (rowData, dataKey) => {\n                          if (dataKey === \"registrationNo\") {\n                            return rowData.registrationNo || \"NA\";\n                          }\n                        },\n                      },\n                      {\n                        coumnWidth: 250,\n                        labelName: \"Battery Status\",\n                        dataKey: \"batteryStatus\",\n                        className: \"\",\n                        isCell: true,\n                        cell: (rowData, dataKey) => {\n                          if (dataKey === \"batteryStatus\") {\n                            return (\n                              <p className=\"status\">\n                                {\" \"}\n                                <span\n                                  className={`circle ${\n                                    rowData.attachedBatteries.length > 0 && rowData.attachedBatteries[0].active\n                                      ? \"active\"\n                                      : \"inactive\"\n                                  }`}\n                                ></span>{\" \"}\n                                {rowData.attachedBatteries.length > 0 && rowData.attachedBatteries[0].active\n                                  ? \"Attached\"\n                                  : \"Inactive\"}\n                              </p>\n                            );\n                          }\n                        },\n                      },\n                      {\n                        coumnWidth: 250,\n                        labelName: \"Iot Status\",\n                        dataKey: \"iotStatus\",\n                        className: \"\",\n                        isCell: true,\n                        cell: (rowData, dataKey) => {\n                          if (dataKey === \"iotStatus\") {\n                            return (\n                              <p className=\"status\">\n                                {\" \"}\n                                <span\n                                  className={`circle ${\n                                    rowData.attachedTelematics && rowData.attachedTelematics.active\n                                      ? \"active\"\n                                      : \"inactive\"\n                                  }`}\n                                ></span>{\" \"}\n                                {rowData.attachedTelematics && rowData.attachedTelematics.active\n                                  ? \"Attached\"\n                                  : \"Inactive\"}\n                              </p>\n                            );\n                          }\n                        },\n                      },\n                      {\n                        coumnWidth: 250,\n                        labelName: \"\",\n                        dataKey: \"options\",\n                        className: \"options-column\",\n                        isCell: true,\n                        cell: (rowData, dataKey) => {\n                          if (dataKey === \"options\") {\n                            return (\n                              <Button\n                                className=\"btn secondary-btn option-btn\"\n                                onClick={() => this.handleConfirmation(rowData)}\n                              >\n                                Remove\n                              </Button>\n                            );\n                          }\n                        },\n                      },\n                    ]}\n                    // For Pagination\n                    history={this.props.history}\n                    location={this.props.location}\n                    totalPages={this.state.totalPages}\n                    currentPage={this.state.page - 1} // because of 0 based indexing\n                    message={\"Vehicle list is empty\"}\n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n        ) : (\n          <div className=\"not-found-wrapper\">\n            <Image src={notFoundDefault} />\n            <p className=\"red-hat-display-medium f-s-16 black-404\">\n              No Franchise Data{\" \"}\n            </p>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\nconst mapStateToProps = (state) => ({\n  ...state,\n});\nconst mapDispatchToProps = {\n  getFranchiseByIdApi,\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(ViewFranchise);\n"]},"metadata":{},"sourceType":"module"}