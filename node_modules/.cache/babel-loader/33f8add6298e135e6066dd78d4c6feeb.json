{"ast":null,"code":"import { toast } from \"react-toastify\";\nimport { postLoginInstance } from \"../../utils\";\nimport { API_LIMIT } from \"../../utils/Constant\";\nimport { getAllVehiclePricing } from \"./BikeModelAction\";\nexport const addUpdateBikeModelApi = (data, cb) => {\n  return postLoginInstance.post(\"offering/vehicle/add-update-vehicle-model\", data).then(res => {\n    if (!res.data.error) {\n      cb();\n      toast.success(res.data.message || \"Something went wrong\");\n    } else {\n      toast.error(res.data.message || \"Something went wrong\");\n    }\n  }).catch(err => {\n    toast.error(err.message || \"Something went wrong\");\n  });\n};\nexport const getAllBikeModelsApi = ctx => {\n  const {\n    searchText,\n    searchKey\n  } = ctx.state;\n  let data = new URLSearchParams();\n  data.append(\"start\", (ctx.state.page - 1) * API_LIMIT);\n  data.append(\"limit\", API_LIMIT);\n  data.append(\"conditions\", JSON.stringify(searchText ? [{\n    key: searchKey,\n    value: searchText\n  }] : []));\n  data.append(\"sorts\", JSON.stringify([]));\n  postLoginInstance.post(\"/offering/vehicle/search-vehicle-model\", data).then(res => {\n    if (!res.data.error) {\n      ctx.setState({\n        bikeModels: res.data.data.data.results,\n        totalPages: Math.ceil(res.data.data.data.totalCount / API_LIMIT)\n      });\n    } else {\n      toast.error(res.data.message || \"Something went wrong\");\n    }\n  }).catch(err => {\n    console.log(\"Catch\", err);\n  });\n};\nexport const getBikeModelByIdApi = (data, ctx) => {\n  postLoginInstance.post(\"offering/vehicle/get-vehicle-model\", data).then(res => {\n    // console.log(\"res\", res);\n    ctx.setState({\n      bikeModelData: res.data.data.vehicle_model\n    });\n  }).catch(err => {\n    console.log(\"Catch\", err);\n  });\n};\nexport const getAllVehiclePricingApi = data => {\n  return function (dispatch, getState) {\n    data.append(\"start\", -1);\n    data.append(\"limit\", -1);\n    data.append(\"sorts\", JSON.stringify([]));\n    postLoginInstance.post(\"offering/vehicle/get-vehicle-model-pricing-list\", data).then(res => {\n      dispatch(getAllVehiclePricing(res.data.data));\n    }).catch(err => {\n      console.log(\"Catch\", err);\n    });\n  };\n};\nexport const addUpdateVehiclePricingApi = (data, ctx, data2) => {\n  // console.log('ctx',ctx);\n  return postLoginInstance.post(\"offering/vehicle/add-update-vehicle-model-pricing\", data).then(res => {\n    if (!res.data.error) {\n      // ctx.props.getAllVehiclePricingApi(data2);\n      ctx.props.history.goBack();\n      toast.success(res.data.message || \"Something went wrong\");\n    } else {\n      toast.error(res.data.message || \"Something went wrong\");\n    }\n  }).catch(err => {\n    toast.error(err.message || \"Something went wrong\");\n  });\n};","map":{"version":3,"sources":["/opt/projects/loch-dashboard/src/app/bikeModel/Api.js"],"names":["toast","postLoginInstance","API_LIMIT","getAllVehiclePricing","addUpdateBikeModelApi","data","cb","post","then","res","error","success","message","catch","err","getAllBikeModelsApi","ctx","searchText","searchKey","state","URLSearchParams","append","page","JSON","stringify","key","value","setState","bikeModels","results","totalPages","Math","ceil","totalCount","console","log","getBikeModelByIdApi","bikeModelData","vehicle_model","getAllVehiclePricingApi","dispatch","getState","addUpdateVehiclePricingApi","data2","props","history","goBack"],"mappings":"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","sourcesContent":["import { toast } from \"react-toastify\";\nimport { postLoginInstance } from \"../../utils\";\nimport { API_LIMIT } from \"../../utils/Constant\";\nimport { getAllVehiclePricing } from \"./BikeModelAction\";\n\nexport const addUpdateBikeModelApi = (data, cb) => {\n  return postLoginInstance\n    .post(\"offering/vehicle/add-update-vehicle-model\", data)\n    .then((res) => {\n      if (!res.data.error) {\n        cb();\n        toast.success(res.data.message || \"Something went wrong\");\n      } else {\n        toast.error(res.data.message || \"Something went wrong\");\n      }\n    })\n    .catch((err) => {\n      toast.error(err.message || \"Something went wrong\");\n    });\n};\n\nexport const getAllBikeModelsApi = (ctx) => {\n  const { searchText, searchKey } = ctx.state;\n  let data = new URLSearchParams();\n  data.append(\"start\", (ctx.state.page - 1) * API_LIMIT);\n  data.append(\"limit\", API_LIMIT);\n  data.append(\n    \"conditions\",\n    JSON.stringify(searchText ? [{ key: searchKey, value: searchText }] : [])\n  );\n  data.append(\"sorts\", JSON.stringify([]));\n  postLoginInstance\n    .post(\"/offering/vehicle/search-vehicle-model\", data)\n    .then((res) => {\n      if (!res.data.error) {\n        ctx.setState({\n          bikeModels: res.data.data.data.results,\n          totalPages: Math.ceil(res.data.data.data.totalCount / API_LIMIT),\n        });\n      } else {\n        toast.error(res.data.message || \"Something went wrong\");\n      }\n    })\n    .catch((err) => {\n      console.log(\"Catch\", err);\n    });\n};\n\nexport const getBikeModelByIdApi = (data, ctx) => {\n  postLoginInstance\n    .post(\"offering/vehicle/get-vehicle-model\", data)\n    .then((res) => {\n      // console.log(\"res\", res);\n      ctx.setState({\n        bikeModelData: res.data.data.vehicle_model,\n      });\n    })\n    .catch((err) => {\n      console.log(\"Catch\", err);\n    });\n};\n\nexport const getAllVehiclePricingApi = (data) => {\n  return function (dispatch, getState) {\n    data.append(\"start\", -1);\n    data.append(\"limit\", -1);\n    data.append(\"sorts\", JSON.stringify([]));\n    postLoginInstance\n      .post(\"offering/vehicle/get-vehicle-model-pricing-list\", data)\n      .then((res) => {\n        dispatch(getAllVehiclePricing(res.data.data));\n      })\n      .catch((err) => {\n        console.log(\"Catch\", err);\n      });\n  };\n};\n\nexport const addUpdateVehiclePricingApi = (data, ctx, data2) => {\n  // console.log('ctx',ctx);\n  return postLoginInstance\n    .post(\"offering/vehicle/add-update-vehicle-model-pricing\", data)\n    .then((res) => {\n      if (!res.data.error) {\n        // ctx.props.getAllVehiclePricingApi(data2);\n        ctx.props.history.goBack();\n        toast.success(res.data.message || \"Something went wrong\");\n      } else {\n        toast.error(res.data.message || \"Something went wrong\");\n      }\n    })\n    .catch((err) => {\n      toast.error(err.message || \"Something went wrong\");\n    });\n};\n"]},"metadata":{},"sourceType":"module"}