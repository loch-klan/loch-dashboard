{"ast":null,"code":"import { toast } from \"react-toastify\";\nimport { preLoginInstance } from \"../../utils\"; // LOGIN\n\nexport const loginApi = (ctx, data) => {\n  preLoginInstance.post('/organisation/user/login', data).then(res => {\n    if (!res.data.error) {\n      console.log('res', res);\n      localStorage.setItem('userDetails', JSON.stringify(res.data.data.user_details));\n      ctx.props.history.push('/profile');\n    } else {\n      toast.error(res.data.message || \"Something went wrong\");\n      ctx.setState({\n        errorMessage: res.data.message || \"Invalid Credentials\"\n      });\n    }\n  }).catch(err => {\n    ctx.setState({\n      errorMessage: \"Something went wrong\"\n    });\n  });\n};","map":{"version":3,"sources":["/opt/projects/loch-dashboard/src/app/login/Api.js"],"names":["toast","preLoginInstance","loginApi","ctx","data","post","then","res","error","console","log","localStorage","setItem","JSON","stringify","user_details","props","history","push","message","setState","errorMessage","catch","err"],"mappings":"AAAA,SAASA,KAAT,QAAsB,gBAAtB;AACA,SAASC,gBAAT,QAAiC,aAAjC,C,CAEA;;AACA,OAAO,MAAMC,QAAQ,GAAG,CAACC,GAAD,EAAMC,IAAN,KAAe;AACrCH,EAAAA,gBAAgB,CAACI,IAAjB,CAAsB,0BAAtB,EAAkDD,IAAlD,EACGE,IADH,CACQC,GAAG,IAAI;AACX,QAAI,CAACA,GAAG,CAACH,IAAJ,CAASI,KAAd,EAAqB;AACnBC,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBH,GAAnB;AACAI,MAAAA,YAAY,CAACC,OAAb,CAAqB,aAArB,EAAoCC,IAAI,CAACC,SAAL,CAAeP,GAAG,CAACH,IAAJ,CAASA,IAAT,CAAcW,YAA7B,CAApC;AACAZ,MAAAA,GAAG,CAACa,KAAJ,CAAUC,OAAV,CAAkBC,IAAlB,CAAuB,UAAvB;AACD,KAJD,MAIO;AACLlB,MAAAA,KAAK,CAACQ,KAAN,CAAYD,GAAG,CAACH,IAAJ,CAASe,OAAT,IAAoB,sBAAhC;AACAhB,MAAAA,GAAG,CAACiB,QAAJ,CAAa;AACXC,QAAAA,YAAY,EAAEd,GAAG,CAACH,IAAJ,CAASe,OAAT,IAAoB;AADvB,OAAb;AAGD;AACF,GAZH,EAaGG,KAbH,CAaSC,GAAG,IAAI;AACZpB,IAAAA,GAAG,CAACiB,QAAJ,CAAa;AACXC,MAAAA,YAAY,EAAE;AADH,KAAb;AAGD,GAjBH;AAkBD,CAnBM","sourcesContent":["import { toast } from \"react-toastify\";\nimport { preLoginInstance } from \"../../utils\";\n\n// LOGIN\nexport const loginApi = (ctx, data) => {\n  preLoginInstance.post('/organisation/user/login', data)\n    .then(res => {\n      if (!res.data.error) {\n        console.log('res', res);\n        localStorage.setItem('userDetails', JSON.stringify(res.data.data.user_details));\n        ctx.props.history.push('/profile');\n      } else {\n        toast.error(res.data.message || \"Something went wrong\");\n        ctx.setState({\n          errorMessage: res.data.message || \"Invalid Credentials\"\n        });\n      }\n    })\n    .catch(err => {\n      ctx.setState({\n        errorMessage: \"Something went wrong\"\n      });\n    });\n}"]},"metadata":{},"sourceType":"module"}