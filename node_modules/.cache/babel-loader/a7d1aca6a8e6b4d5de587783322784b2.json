{"ast":null,"code":"var _jsxFileName = \"/opt/projects/loch-dashboard/src/app/bookingManagement/ViewBookingsDetails.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { ComponentHeader } from \"../common\";\nimport { Grid, Image, Row, Col, Button } from \"react-bootstrap\";\nimport EstimatedFare from \"./EstimatedFare\";\nimport { getBookingDetailsApi } from \"./Api\";\nimport { compareDate, formatDuration } from \"../../utils/ReusableFunctions\";\nimport moment from \"moment\";\nimport { OrderStatus, PaymentStatus } from \"../../utils/Constant\";\nimport greenCircle from \"../../assets/images/icons/greenCircle.png\";\nimport circle from \"../../assets/images/icons/circle.svg\";\nimport square from \"../../assets/images/icons/square.svg\";\nimport cancelBox from \"../../assets/images/icons/cancelBox.svg\";\nimport AssignBikeModal from \"./AssignBike\";\nimport ChangeOrderStatusModal from \"./ChangeOrderStatus\";\nimport CancelBookingModal from \"./CancelBooking\";\nimport AddPenaltyModal from \"./AddPenalty\";\nimport { reassignVehicleOrderApi, markPickupOrderApi, markReturnOrderApi, cancelOrderApi } from \"./Api\";\nimport ExtendBookingModal from \"./_utils/ExtendBookingModal\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass ViewBookingDetails extends Component {\n  constructor(props) {\n    var _this;\n\n    super(props);\n    _this = this;\n\n    this.getBookingDetails = () => {\n      getBookingDetailsApi(this.state.bookingId, this);\n    };\n\n    this.handleAddPenaltyModal = () => {\n      this.setState({\n        addPenaltyModal: !this.state.addPenaltyModal\n      });\n    };\n\n    this.handleAssignBikeModal = () => {\n      this.setState({\n        showAssignBikeModal: !this.state.showAssignBikeModal\n      });\n    };\n\n    this.handleChangeOrderStatusModal = function () {\n      let action = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n      _this.setState({\n        changeOrderStatusModal: !_this.state.changeOrderStatusModal,\n        action\n      });\n    };\n\n    this.handleCancelOrderModal = () => {\n      this.setState({\n        cancelBookingModal: !this.state.cancelBookingModal\n      });\n    };\n\n    this.cancelOrder = reason => {\n      cancelOrderApi(this.state.bookingId, reason, this.getBookingDetails, this.handleCancelOrderModal);\n    };\n\n    this.reAssignBike = bikeId => {\n      //console.log(bikeId)\n      reassignVehicleOrderApi(this.state.bookingId, bikeId, this.getBookingDetails, this.handleAssignBikeModal);\n    };\n\n    this.markPickupOrder = () => {\n      markPickupOrderApi(this.state.bookingId, this.getBookingDetails, this.handleChangeOrderStatusModal);\n    };\n\n    this.markReturnOrder = paymentMode => {\n      markReturnOrderApi(this.state.bookingId, paymentMode, this.getBookingDetails, this.handleChangeOrderStatusModal);\n    };\n\n    this.toggleExtendBooking = () => {\n      this.setState({\n        showExtendBookingModal: !this.state.showExtendBookingModal\n      });\n    };\n\n    this.state = {\n      bookingId: this.props.match.params.id,\n      showAssignBikeModal: false,\n      paymentMode: 30,\n      cancelBookingModal: false,\n      addPenaltyModal: false,\n      showExtendBookingModal: false\n    };\n  }\n\n  componentDidMount() {\n    this.getBookingDetails();\n  }\n\n  render() {\n    var _data$extra_charges, _data$franchise, _data$franchise_locat, _data$franchise_locat2, _data$customer, _data$customer2, _data$customer3;\n\n    const data = this.state.bookingData;\n    let duration;\n\n    if (data) {\n      duration = formatDuration(data);\n    }\n\n    const pricing = {\n      total_price: data && data.booking_info.total_amount,\n      allowed_kms: data && data.booking_info.allowed_kms,\n      booking_price: data && data.booking_info.booking_amount,\n      price: data && data.model_pricing.price,\n      total_tax_amount: data && data.total_tax_amount,\n      total_amount: data && data.total_amount,\n      deposit: data && data.booking_info.deposit,\n      penalty_price_per_hour: data && data.model_pricing.penalty_price_per_hour,\n      per_km_price: data && data.model_pricing.per_km_price\n    };\n    const discountAmount = data && data.booking_info.coupon_discount;\n    const pointsApplied = data && data.booking_info.points ? true : false;\n    const points = data && data.booking_info.points;\n    const status = data && data.status;\n    const totalPenaltyAmount = data && (data === null || data === void 0 ? void 0 : (_data$extra_charges = data.extra_charges) === null || _data$extra_charges === void 0 ? void 0 : _data$extra_charges.total_amount); // Below Data Required In Extend Order\n\n    const dateTimeInfo = {\n      startdDate: data && data.booking_info.start_datetime,\n      endDate: data && data.booking_info.end_datetime\n    };\n    const orderId = data && data.id;\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [this.state.showExtendBookingModal && /*#__PURE__*/_jsxDEV(ExtendBookingModal, {\n        show: this.state.showExtendBookingModal,\n        handleClose: () => this.toggleExtendBooking(),\n        bookingDetails: dateTimeInfo,\n        orderId: orderId,\n        getBookingDetails: () => this.getBookingDetails()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(ComponentHeader, {\n        backArrowBtn: true,\n        history: this.props.history,\n        title: \"Booking Details\",\n        moduleName: `# ${data === null || data === void 0 ? void 0 : data.code}`,\n        secondaryBtnText: status !== OrderStatus.CANCELLED && status !== OrderStatus.INITIATED && status !== OrderStatus.NOT_PLACED && status !== OrderStatus.RETURN_PAYMENT_SETTLED && status !== OrderStatus.PICKED_UP ? \"Cancel Booking\" : false,\n        isSecondaryBtn: this.handleCancelOrderModal,\n        primaryBtnText: data && (data.extension_info || status === OrderStatus.CANCELLED || status === OrderStatus.RETURN_PAYMENT_SETTLED || status === OrderStatus.NOT_PLACED || status === OrderStatus.INITIATED) ? \"\" : \"Extend Booking\",\n        isPrimaryBtn: this.toggleExtendBooking\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this), this.state.addPenaltyModal && /*#__PURE__*/_jsxDEV(AddPenaltyModal, {\n        bookingId: this.state.bookingId,\n        show: this.state.addPenaltyModal,\n        handleClose: this.handleAddPenaltyModal,\n        getBookingDetails: this.getBookingDetails\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 11\n      }, this), this.state.cancelBookingModal && /*#__PURE__*/_jsxDEV(CancelBookingModal, {\n        show: this.state.cancelBookingModal,\n        handleClose: this.handleCancelOrderModal,\n        cancelOrder: reason => this.cancelOrder(reason)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 11\n      }, this), this.state.showAssignBikeModal && /*#__PURE__*/_jsxDEV(AssignBikeModal, {\n        bookingId: this.state.bookingId,\n        show: this.state.showAssignBikeModal,\n        handleClose: this.handleAssignBikeModal,\n        reAssignBike: bikeId => this.reAssignBike(bikeId)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 11\n      }, this), this.state.changeOrderStatusModal && /*#__PURE__*/_jsxDEV(ChangeOrderStatusModal, {\n        bookingId: this.state.bookingId,\n        action: this.state.action,\n        show: this.state.changeOrderStatusModal,\n        handleClose: this.handleChangeOrderStatusModal,\n        markPickupOrder: this.markPickupOrder,\n        markReturnOrder: paymentMode => this.markReturnOrder(paymentMode)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          sm: 7,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"add-edit-customer-wrapper\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"booking-content view-detail-page\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"header\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"red-hat-display-bold f-s-12 grey-757\",\n                  children: \"Pickup/Return Details\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 212,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"time-wrapper red-hat-display-regular\",\n                  children: duration\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 215,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: `order-status proximanova-regular f-s-16 lh-24 ${OrderStatus.getClass(status)}`,\n                  children: OrderStatus.getText(status)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 218,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 211,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 226,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"basic-details\",\n                children: [/*#__PURE__*/_jsxDEV(Row, {\n                  children: [/*#__PURE__*/_jsxDEV(Col, {\n                    md: 4,\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"detail\",\n                      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                        className: \"regular\",\n                        children: \"Franchisee Name\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 231,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                        className: \"regular lg\",\n                        children: data === null || data === void 0 ? void 0 : (_data$franchise = data.franchise) === null || _data$franchise === void 0 ? void 0 : _data$franchise.legal_name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 232,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 230,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 229,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    md: 4,\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"detail\",\n                      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                        className: \"regular\",\n                        children: \"Pickup Date\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 239,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                        className: \"regular lg\",\n                        children: moment(data === null || data === void 0 ? void 0 : data.start_datetime).format(\"DD MMM YYYY hh:mm a\")\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 240,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 238,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 237,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    md: 4,\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"detail\",\n                      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                        className: \"regular\",\n                        children: \"Return Date\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 249,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                        className: \"regular lg\",\n                        children: moment(data === null || data === void 0 ? void 0 : data.end_datetime).format(\"DD MMM YYYY hh:mm a\")\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 250,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 248,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 247,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 228,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Row, {\n                  children: /*#__PURE__*/_jsxDEV(Col, {\n                    md: 6,\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"detail\",\n                      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                        className: \"regular\",\n                        children: \"Pickup & Return Address\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 261,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                        className: \"regular lg\",\n                        children: data === null || data === void 0 ? void 0 : (_data$franchise_locat = data.franchise_location) === null || _data$franchise_locat === void 0 ? void 0 : (_data$franchise_locat2 = _data$franchise_locat.location_details) === null || _data$franchise_locat2 === void 0 ? void 0 : _data$franchise_locat2.formatted_address\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 262,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 260,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 259,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 258,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 227,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"header m-t-5\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"red-hat-display-bold f-s-12 grey-757\",\n                  children: \"Booking Status\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 274,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 273,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 278,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"timeline-wrapper\",\n                children: /*#__PURE__*/_jsxDEV(Row, {\n                  children: [/*#__PURE__*/_jsxDEV(Col, {\n                    sm: 3,\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: `timeline ${status === OrderStatus.CANCELLED || status === OrderStatus.NOT_PLACED || status === OrderStatus.INITIATED ? \"cancelled\" : status === OrderStatus.PLACED || status >= OrderStatus.PICKED_UP ? \"success\" : \"\"}`,\n                      children: [/*#__PURE__*/_jsxDEV(Image, {\n                        src: status === OrderStatus.CANCELLED || status === OrderStatus.NOT_PLACED || status === OrderStatus.INITIATED ? cancelBox : greenCircle\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 295,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                        className: \"proximanova-medium f-s-16 lh-26\",\n                        children: status === OrderStatus.NOT_PLACED || status === OrderStatus.INITIATED ? \"Booking unsuccessful\" : status === OrderStatus.CANCELLED ? \"Booking Cancelled\" : \"Booking successful\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 304,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                        className: \"proximanova-regular f-s-14 lh-21 op-6\",\n                        children: moment(data === null || data === void 0 ? void 0 : data.created_on).format(\"DD MMM YYYY hh:mm a\")\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 312,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 283,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 282,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    sm: 3,\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: `timeline ${status === OrderStatus.CANCELLED ? \"cancelled\" : status >= OrderStatus.PICKED_UP ? \"success\" : \"\"}`,\n                      children: [/*#__PURE__*/_jsxDEV(Image, {\n                        src: status === OrderStatus.CANCELLED || status === OrderStatus.NOT_PLACED || status === OrderStatus.INITIATED ? cancelBox : status >= OrderStatus.PLACED ? greenCircle : circle\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 329,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                        className: \"proximanova-medium f-s-16 lh-26\",\n                        children: \"Bike Assignment\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 340,\n                        columnNumber: 25\n                      }, this), status === OrderStatus.PLACED && /*#__PURE__*/_jsxDEV(_Fragment, {\n                        children: /*#__PURE__*/_jsxDEV(Button, {\n                          className: \"btn secondary-btn\",\n                          onClick: this.handleAssignBikeModal,\n                          children: \"Reassign Bike\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 346,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 320,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 319,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    sm: 3,\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: `timeline ${status === OrderStatus.CANCELLED ? \"cancelled\" : status >= OrderStatus.RETURN_PAYMENT_PENDING ? \"success\" : \"\"}`,\n                      children: [/*#__PURE__*/_jsxDEV(Image, {\n                        src: status === OrderStatus.CANCELLED ? cancelBox : status >= OrderStatus.PICKED_UP ? greenCircle : circle\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 366,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                        className: \"proximanova-medium f-s-18 lh-26\",\n                        children: \"Pickup\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 375,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                        className: \"proximanova-regular f-s-14 lh-21 op-6\",\n                        children: moment(data === null || data === void 0 ? void 0 : data.start_datetime).format(\"DD MMM YYYY hh:mm a\")\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 379,\n                        columnNumber: 25\n                      }, this), status === OrderStatus.PLACED && compareDate(dateTimeInfo.startdDate, new Date()) && /*#__PURE__*/_jsxDEV(_Fragment, {\n                        children: /*#__PURE__*/_jsxDEV(Button, {\n                          className: \"btn secondary-btn\",\n                          onClick: () => this.handleChangeOrderStatusModal(1),\n                          children: \"Mark Picked up\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 387,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 357,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 356,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    sm: 3,\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: `timeline last ${status === OrderStatus.CANCELLED ? \"cancelled\" : \"\"}`,\n                      children: [/*#__PURE__*/_jsxDEV(Image, {\n                        src: status === OrderStatus.CANCELLED ? cancelBox : status >= OrderStatus.RETURN_PAYMENT_PENDING ? greenCircle : square\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 405,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                        className: \"proximanova-medium f-s-18 lh-26\",\n                        children: \"Return\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 414,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                        className: \"proximanova-regular f-s-14 lh-21 op-6\",\n                        children: moment(data === null || data === void 0 ? void 0 : data.end_datetime).format(\"DD MMM YYYY hh:mm a\")\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 417,\n                        columnNumber: 25\n                      }, this), (data === null || data === void 0 ? void 0 : data.extension_info) && data.extension_info.payment_status === PaymentStatus.SUCCESS && /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: `order-status proximanova-regular f-s-16 lh-24 extended`,\n                        children: \"Extended\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 425,\n                        columnNumber: 29\n                      }, this), status === OrderStatus.PICKED_UP && compareDate(dateTimeInfo.endDate, new Date()) && /*#__PURE__*/_jsxDEV(Button, {\n                        className: \"btn secondary-btn\",\n                        onClick: () => this.handleChangeOrderStatusModal(2),\n                        children: \"Mark Return\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 433,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 400,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 399,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 281,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 279,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"header m-t-5\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"red-hat-display-bold f-s-12 grey-757\",\n                  children: \"Customer Details\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 448,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 447,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 460,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"basic-details\",\n                children: /*#__PURE__*/_jsxDEV(Row, {\n                  children: [/*#__PURE__*/_jsxDEV(Col, {\n                    md: 4,\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"detail\",\n                      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                        className: \"regular\",\n                        children: \"Name\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 465,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                        className: \"regular lg\",\n                        children: data === null || data === void 0 ? void 0 : (_data$customer = data.customer) === null || _data$customer === void 0 ? void 0 : _data$customer.first_name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 466,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 464,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 463,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    md: 4,\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"detail\",\n                      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                        className: \"regular\",\n                        children: \"Contact Number\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 473,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                        className: \"regular lg\",\n                        children: data === null || data === void 0 ? void 0 : (_data$customer2 = data.customer) === null || _data$customer2 === void 0 ? void 0 : _data$customer2.mobile\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 474,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 472,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 471,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    md: 4,\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"detail\",\n                      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                        className: \"regular\",\n                        children: \"Email\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 479,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                        className: \"regular lg\",\n                        children: data === null || data === void 0 ? void 0 : (_data$customer3 = data.customer) === null || _data$customer3 === void 0 ? void 0 : _data$customer3.email\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 480,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 478,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 477,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 462,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 461,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          sm: 5,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"add-edit-customer-wrapper\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"booking-content\",\n              children: /*#__PURE__*/_jsxDEV(EstimatedFare, {\n                duration: duration,\n                pricing: pricing,\n                discountAmount: discountAmount || \"0\",\n                pointsApplied: pointsApplied,\n                points: points || \"0\",\n                isViewBooking: true,\n                handleAddPenaltyModal: this.handleAddPenaltyModal,\n                totalPenaltyAmount: totalPenaltyAmount || false,\n                extensionInfo: data && (data === null || data === void 0 ? void 0 : data.extension_info),\n                cancellationFee: data && (data === null || data === void 0 ? void 0 : data.cancellation_fee) + data.cancellation_tax,\n                extraCharges: data && (data === null || data === void 0 ? void 0 : data.extra_charges),\n                status: status\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 491,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 490,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 489,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 488,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nconst mapStateToProps = state => ({ ...state\n});\n\nconst mapDispatchToProps = {// getPosts: fetchPosts\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(ViewBookingDetails);","map":{"version":3,"sources":["/opt/projects/loch-dashboard/src/app/bookingManagement/ViewBookingsDetails.js"],"names":["React","Component","connect","ComponentHeader","Grid","Image","Row","Col","Button","EstimatedFare","getBookingDetailsApi","compareDate","formatDuration","moment","OrderStatus","PaymentStatus","greenCircle","AssignBikeModal","ChangeOrderStatusModal","CancelBookingModal","AddPenaltyModal","reassignVehicleOrderApi","markPickupOrderApi","markReturnOrderApi","cancelOrderApi","ExtendBookingModal","ViewBookingDetails","constructor","props","getBookingDetails","state","bookingId","handleAddPenaltyModal","setState","addPenaltyModal","handleAssignBikeModal","showAssignBikeModal","handleChangeOrderStatusModal","action","changeOrderStatusModal","handleCancelOrderModal","cancelBookingModal","cancelOrder","reason","reAssignBike","bikeId","markPickupOrder","markReturnOrder","paymentMode","toggleExtendBooking","showExtendBookingModal","match","params","id","componentDidMount","render","data","bookingData","duration","pricing","total_price","booking_info","total_amount","allowed_kms","booking_price","booking_amount","price","model_pricing","total_tax_amount","deposit","penalty_price_per_hour","per_km_price","discountAmount","coupon_discount","pointsApplied","points","status","totalPenaltyAmount","extra_charges","dateTimeInfo","startdDate","start_datetime","endDate","end_datetime","orderId","history","code","CANCELLED","INITIATED","NOT_PLACED","RETURN_PAYMENT_SETTLED","PICKED_UP","extension_info","getClass","getText","franchise","legal_name","format","franchise_location","location_details","formatted_address","PLACED","cancelBox","created_on","circle","RETURN_PAYMENT_PENDING","Date","square","payment_status","SUCCESS","customer","first_name","mobile","email","cancellation_fee","cancellation_tax","mapStateToProps","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\"\nimport { connect } from \"react-redux\"\nimport { ComponentHeader } from \"../common\"\nimport { Grid, Image, Row, Col, Button } from \"react-bootstrap\"\nimport EstimatedFare from \"./EstimatedFare\"\nimport { getBookingDetailsApi } from \"./Api\"\nimport { compareDate, formatDuration } from \"../../utils/ReusableFunctions\"\nimport moment from \"moment\"\nimport { OrderStatus, PaymentStatus } from \"../../utils/Constant\"\nimport greenCircle from \"../../assets/images/icons/greenCircle.png\"\nimport circle from \"../../assets/images/icons/circle.svg\"\nimport square from \"../../assets/images/icons/square.svg\"\nimport cancelBox from \"../../assets/images/icons/cancelBox.svg\"\nimport AssignBikeModal from \"./AssignBike\"\nimport ChangeOrderStatusModal from \"./ChangeOrderStatus\"\nimport CancelBookingModal from \"./CancelBooking\"\nimport AddPenaltyModal from \"./AddPenalty\"\nimport {\n  reassignVehicleOrderApi,\n  markPickupOrderApi,\n  markReturnOrderApi,\n  cancelOrderApi\n} from \"./Api\"\nimport ExtendBookingModal from \"./_utils/ExtendBookingModal\"\n\nclass ViewBookingDetails extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      bookingId: this.props.match.params.id,\n      showAssignBikeModal: false,\n      paymentMode: 30,\n      cancelBookingModal: false,\n      addPenaltyModal: false,\n      showExtendBookingModal: false\n    }\n  }\n\n  componentDidMount() {\n    this.getBookingDetails()\n  }\n\n  getBookingDetails = () => {\n    getBookingDetailsApi(this.state.bookingId, this)\n  }\n\n  handleAddPenaltyModal = () => {\n    this.setState({ addPenaltyModal: !this.state.addPenaltyModal })\n  }\n\n  handleAssignBikeModal = () => {\n    this.setState({ showAssignBikeModal: !this.state.showAssignBikeModal })\n  }\n\n  handleChangeOrderStatusModal = (action = null) => {\n    this.setState({\n      changeOrderStatusModal: !this.state.changeOrderStatusModal,\n      action\n    })\n  }\n\n  handleCancelOrderModal = () => {\n    this.setState({ cancelBookingModal: !this.state.cancelBookingModal })\n  }\n\n  cancelOrder = (reason) => {\n    cancelOrderApi(\n      this.state.bookingId,\n      reason,\n      this.getBookingDetails,\n      this.handleCancelOrderModal\n    )\n  }\n\n  reAssignBike = (bikeId) => {\n    //console.log(bikeId)\n    reassignVehicleOrderApi(\n      this.state.bookingId,\n      bikeId,\n      this.getBookingDetails,\n      this.handleAssignBikeModal\n    )\n  }\n\n  markPickupOrder = () => {\n    markPickupOrderApi(\n      this.state.bookingId,\n      this.getBookingDetails,\n      this.handleChangeOrderStatusModal\n    )\n  }\n\n  markReturnOrder = (paymentMode) => {\n    markReturnOrderApi(\n      this.state.bookingId,\n      paymentMode,\n      this.getBookingDetails,\n      this.handleChangeOrderStatusModal\n    )\n  }\n\n  toggleExtendBooking = () => {\n    this.setState({\n      showExtendBookingModal: !this.state.showExtendBookingModal\n    })\n  }\n\n  render() {\n    const data = this.state.bookingData\n    let duration\n    if (data) {\n      duration = formatDuration(data)\n    }\n    const pricing = {\n      total_price: data && data.booking_info.total_amount,\n      allowed_kms: data && data.booking_info.allowed_kms,\n      booking_price: data && data.booking_info.booking_amount,\n      price: data && data.model_pricing.price,\n      total_tax_amount: data && data.total_tax_amount,\n      total_amount: data && data.total_amount,\n      deposit: data && data.booking_info.deposit,\n      penalty_price_per_hour: data && data.model_pricing.penalty_price_per_hour,\n      per_km_price: data && data.model_pricing.per_km_price\n    }\n    const discountAmount = data && data.booking_info.coupon_discount\n    const pointsApplied = data && data.booking_info.points ? true : false\n    const points = data && data.booking_info.points\n    const status = data && data.status\n    const totalPenaltyAmount = data && data?.extra_charges?.total_amount\n    // Below Data Required In Extend Order\n    const dateTimeInfo = {\n      startdDate: data && data.booking_info.start_datetime,\n      endDate: data && data.booking_info.end_datetime\n    }\n    const orderId = data && data.id\n    return (\n      <>\n        {this.state.showExtendBookingModal && (\n          <ExtendBookingModal\n            show={this.state.showExtendBookingModal}\n            handleClose={() => this.toggleExtendBooking()}\n            bookingDetails={dateTimeInfo}\n            orderId={orderId}\n            getBookingDetails={() => this.getBookingDetails()}\n          />\n        )}\n        <ComponentHeader\n          backArrowBtn={true}\n          history={this.props.history}\n          title={\"Booking Details\"}\n          moduleName={`# ${data?.code}`}\n          secondaryBtnText={\n            status !== OrderStatus.CANCELLED &&\n            status !== OrderStatus.INITIATED &&\n            status !== OrderStatus.NOT_PLACED &&\n            status !== OrderStatus.RETURN_PAYMENT_SETTLED &&\n            status !== OrderStatus.PICKED_UP\n              ? \"Cancel Booking\"\n              : false\n          }\n          isSecondaryBtn={this.handleCancelOrderModal}\n          primaryBtnText={\n            data &&\n            (data.extension_info ||\n              status === OrderStatus.CANCELLED ||\n              status === OrderStatus.RETURN_PAYMENT_SETTLED ||\n              status === OrderStatus.NOT_PLACED ||\n              status === OrderStatus.INITIATED)\n              ? \"\"\n              : \"Extend Booking\"\n          }\n          isPrimaryBtn={this.toggleExtendBooking}\n        />\n        {this.state.addPenaltyModal && (\n          <AddPenaltyModal\n            bookingId={this.state.bookingId}\n            show={this.state.addPenaltyModal}\n            handleClose={this.handleAddPenaltyModal}\n            getBookingDetails={this.getBookingDetails}\n          />\n        )}\n        {this.state.cancelBookingModal && (\n          <CancelBookingModal\n            show={this.state.cancelBookingModal}\n            handleClose={this.handleCancelOrderModal}\n            cancelOrder={(reason) => this.cancelOrder(reason)}\n          />\n        )}\n        {this.state.showAssignBikeModal && (\n          <AssignBikeModal\n            bookingId={this.state.bookingId}\n            show={this.state.showAssignBikeModal}\n            handleClose={this.handleAssignBikeModal}\n            reAssignBike={(bikeId) => this.reAssignBike(bikeId)}\n          />\n        )}\n        {this.state.changeOrderStatusModal && (\n          <ChangeOrderStatusModal\n            bookingId={this.state.bookingId}\n            action={this.state.action}\n            show={this.state.changeOrderStatusModal}\n            handleClose={this.handleChangeOrderStatusModal}\n            markPickupOrder={this.markPickupOrder}\n            markReturnOrder={(paymentMode) => this.markReturnOrder(paymentMode)}\n          />\n        )}\n        <Row>\n          <Col sm={7}>\n            <div className=\"add-edit-customer-wrapper\">\n              <div className=\"booking-content view-detail-page\">\n                <div className=\"header\">\n                  <div className=\"red-hat-display-bold f-s-12 grey-757\">\n                    Pickup/Return Details\n                  </div>\n                  <div className=\"time-wrapper red-hat-display-regular\">\n                    {duration}\n                  </div>\n                  <p\n                    className={`order-status proximanova-regular f-s-16 lh-24 ${OrderStatus.getClass(\n                      status\n                    )}`}\n                  >\n                    {OrderStatus.getText(status)}\n                  </p>\n                </div>\n                <hr />\n                <div className=\"basic-details\">\n                  <Row>\n                    <Col md={4}>\n                      <div className=\"detail\">\n                        <h4 className=\"regular\">Franchisee Name</h4>\n                        <h3 className=\"regular lg\">\n                          {data?.franchise?.legal_name}\n                        </h3>\n                      </div>\n                    </Col>\n                    <Col md={4}>\n                      <div className=\"detail\">\n                        <h4 className=\"regular\">Pickup Date</h4>\n                        <h3 className=\"regular lg\">\n                          {moment(data?.start_datetime).format(\n                            \"DD MMM YYYY hh:mm a\"\n                          )}\n                        </h3>\n                      </div>\n                    </Col>\n                    <Col md={4}>\n                      <div className=\"detail\">\n                        <h4 className=\"regular\">Return Date</h4>\n                        <h3 className=\"regular lg\">\n                          {moment(data?.end_datetime).format(\n                            \"DD MMM YYYY hh:mm a\"\n                          )}\n                        </h3>\n                      </div>\n                    </Col>\n                  </Row>\n                  <Row>\n                    <Col md={6}>\n                      <div className=\"detail\">\n                        <h4 className=\"regular\">Pickup & Return Address</h4>\n                        <h3 className=\"regular lg\">\n                          {\n                            data?.franchise_location?.location_details\n                              ?.formatted_address\n                          }\n                        </h3>\n                      </div>\n                    </Col>\n                  </Row>\n                </div>\n                {/* NEW ROW */}\n                <div className=\"header m-t-5\">\n                  <div className=\"red-hat-display-bold f-s-12 grey-757\">\n                    Booking Status\n                  </div>\n                </div>\n                <hr />\n                <div className=\"timeline-wrapper\">\n                  {/* <h2 className='proximanova-bold f-s-20 lh-30'>Date time</h2> */}\n                  <Row>\n                    <Col sm={3}>\n                      <div\n                        className={`timeline ${\n                          status === OrderStatus.CANCELLED ||\n                          status === OrderStatus.NOT_PLACED ||\n                          status === OrderStatus.INITIATED\n                            ? \"cancelled\"\n                            : status === OrderStatus.PLACED ||\n                              status >= OrderStatus.PICKED_UP\n                            ? \"success\"\n                            : \"\"\n                        }`}\n                      >\n                        <Image\n                          src={\n                            status === OrderStatus.CANCELLED ||\n                            status === OrderStatus.NOT_PLACED ||\n                            status === OrderStatus.INITIATED\n                              ? cancelBox\n                              : greenCircle\n                          }\n                        />\n                        <h3 className=\"proximanova-medium f-s-16 lh-26\">\n                          {status === OrderStatus.NOT_PLACED ||\n                          status === OrderStatus.INITIATED\n                            ? \"Booking unsuccessful\"\n                            : status === OrderStatus.CANCELLED\n                            ? \"Booking Cancelled\"\n                            : \"Booking successful\"}\n                        </h3>\n                        <h6 className=\"proximanova-regular f-s-14 lh-21 op-6\">\n                          {moment(data?.created_on).format(\n                            \"DD MMM YYYY hh:mm a\"\n                          )}\n                        </h6>\n                      </div>\n                    </Col>\n                    <Col sm={3}>\n                      <div\n                        className={`timeline ${\n                          status === OrderStatus.CANCELLED\n                            ? \"cancelled\"\n                            : status >= OrderStatus.PICKED_UP\n                            ? \"success\"\n                            : \"\"\n                        }`}\n                      >\n                        <Image\n                          src={\n                            status === OrderStatus.CANCELLED ||\n                            status === OrderStatus.NOT_PLACED ||\n                            status === OrderStatus.INITIATED\n                              ? cancelBox\n                              : status >= OrderStatus.PLACED\n                              ? greenCircle\n                              : circle\n                          }\n                        />\n                        <h3 className=\"proximanova-medium f-s-16 lh-26\">\n                          Bike Assignment\n                        </h3>\n                        {/* <h6 className='proximanova-regular f-s-14 lh-21 op-6'>{moment(data ?.start_datetime).format(\"DD MMM YYYY hh:mm a\")}</h6> */}\n                        {status === OrderStatus.PLACED && (\n                          <>\n                            <Button\n                              className=\"btn secondary-btn\"\n                              onClick={this.handleAssignBikeModal}\n                            >\n                              Reassign Bike\n                            </Button>\n                          </>\n                        )}\n                      </div>\n                    </Col>\n                    <Col sm={3}>\n                      <div\n                        className={`timeline ${\n                          status === OrderStatus.CANCELLED\n                            ? \"cancelled\"\n                            : status >= OrderStatus.RETURN_PAYMENT_PENDING\n                            ? \"success\"\n                            : \"\"\n                        }`}\n                      >\n                        <Image\n                          src={\n                            status === OrderStatus.CANCELLED\n                              ? cancelBox\n                              : status >= OrderStatus.PICKED_UP\n                              ? greenCircle\n                              : circle\n                          }\n                        />\n                        <h3 className=\"proximanova-medium f-s-18 lh-26\">\n                          Pickup\n                        </h3>\n\n                        <h6 className=\"proximanova-regular f-s-14 lh-21 op-6\">\n                          {moment(data?.start_datetime).format(\n                            \"DD MMM YYYY hh:mm a\"\n                          )}\n                        </h6>\n                        {status === OrderStatus.PLACED &&\n                          compareDate(dateTimeInfo.startdDate, new Date()) && (\n                            <>\n                              <Button\n                                className=\"btn secondary-btn\"\n                                onClick={() =>\n                                  this.handleChangeOrderStatusModal(1)\n                                }\n                              >\n                                Mark Picked up\n                              </Button>\n                            </>\n                          )}\n                      </div>\n                    </Col>\n                    <Col sm={3}>\n                      <div\n                        className={`timeline last ${\n                          status === OrderStatus.CANCELLED ? \"cancelled\" : \"\"\n                        }`}\n                      >\n                        <Image\n                          src={\n                            status === OrderStatus.CANCELLED\n                              ? cancelBox\n                              : status >= OrderStatus.RETURN_PAYMENT_PENDING\n                              ? greenCircle\n                              : square\n                          }\n                        />\n                        <h3 className=\"proximanova-medium f-s-18 lh-26\">\n                          Return\n                        </h3>\n                        <h6 className=\"proximanova-regular f-s-14 lh-21 op-6\">\n                          {moment(data?.end_datetime).format(\n                            \"DD MMM YYYY hh:mm a\"\n                          )}\n                        </h6>\n                        {data?.extension_info &&\n                          data.extension_info.payment_status ===\n                            PaymentStatus.SUCCESS && (\n                            <p\n                              className={`order-status proximanova-regular f-s-16 lh-24 extended`}\n                            >\n                              Extended\n                            </p>\n                          )}\n                        {status === OrderStatus.PICKED_UP &&\n                          compareDate(dateTimeInfo.endDate, new Date()) && (\n                            <Button\n                              className=\"btn secondary-btn\"\n                              onClick={() =>\n                                this.handleChangeOrderStatusModal(2)\n                              }\n                            >\n                              Mark Return\n                            </Button>\n                          )}\n                      </div>\n                    </Col>\n                  </Row>\n                </div>\n                {/* NEW ROW */}\n                <div className=\"header m-t-5\">\n                  <div className=\"red-hat-display-bold f-s-12 grey-757\">\n                    Customer Details\n                  </div>\n                  {/* <div className=\"\">\n                                        <Button\n                                            className=\"btn secondary-btn\"\n                                        //onClick={}\n                                        >\n                                            Complete KYC\n                                        </Button>\n                                    </div> */}\n                </div>\n                <hr />\n                <div className=\"basic-details\">\n                  <Row>\n                    <Col md={4}>\n                      <div className=\"detail\">\n                        <h4 className=\"regular\">Name</h4>\n                        <h3 className=\"regular lg\">\n                          {data?.customer?.first_name}\n                        </h3>\n                      </div>\n                    </Col>\n                    <Col md={4}>\n                      <div className=\"detail\">\n                        <h4 className=\"regular\">Contact Number</h4>\n                        <h3 className=\"regular lg\">{data?.customer?.mobile}</h3>\n                      </div>\n                    </Col>\n                    <Col md={4}>\n                      <div className=\"detail\">\n                        <h4 className=\"regular\">Email</h4>\n                        <h3 className=\"regular lg\">{data?.customer?.email}</h3>\n                      </div>\n                    </Col>\n                  </Row>\n                </div>\n              </div>\n            </div>\n          </Col>\n          <Col sm={5}>\n            <div className=\"add-edit-customer-wrapper\">\n              <div className=\"booking-content\">\n                <EstimatedFare\n                  duration={duration}\n                  pricing={pricing}\n                  discountAmount={discountAmount || \"0\"}\n                  pointsApplied={pointsApplied}\n                  points={points || \"0\"}\n                  isViewBooking={true}\n                  handleAddPenaltyModal={this.handleAddPenaltyModal}\n                  totalPenaltyAmount={totalPenaltyAmount || false}\n                  extensionInfo={data && data?.extension_info}\n                  cancellationFee={\n                    data && data?.cancellation_fee + data.cancellation_tax\n                  }\n                  extraCharges={data && data?.extra_charges}\n                  status={status}\n                />\n              </div>\n            </div>\n          </Col>\n        </Row>\n      </>\n    )\n  }\n}\nconst mapStateToProps = (state) => ({\n  ...state\n})\nconst mapDispatchToProps = {\n  // getPosts: fetchPosts\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(ViewBookingDetails)\n"]},"metadata":{},"sourceType":"module"}